<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>3RDEYESYSTEM Technical Documentations</title>
        <description>써드아이시스템(3rdeyesys) 기술문서 사이트입니다 - Ncloud 프리미엄 파트너</description>
        <link>https://docs.3rdeyesys.com/</link>
        <atom:link href="https://docs.3rdeyesys.com/feed.xml" rel="self" type="application/rss+xml"/>
        <pubDate>Thu, 29 Jun 2023 11:09:46 +0900</pubDate>
        <lastBuildDate>Thu, 29 Jun 2023 11:09:46 +0900</lastBuildDate>
        <generator>Jekyll v4.2.2</generator>
        
        
        <item>
            <title>Ncloud Rocky Linux 서버 Repository 미러 사이트 오류 문제 해결 방법</title>
            <description>## 개요  
Ncloud (네이버 클라우드)에서 록키 리눅스(Rocky Linux) 8.6 서버를 제공하고 있는데, 패키지를 설치할 때 간혹 패키지 다운로드 사이트 또는 미러 사이트에서 8.6 버전에 대한 패키지 정보를 찾을 수 없다는 메시지가 나타나면서 패키지를 설치할 수 없는 경우가 있습니다.   
그렇다면 왜 이런 문제가 생기는지와 어떻게 하면 해결할 수 있는지를 정리해보겠습니다.

## 오류 상황
테스트로 아파치를 설치해보려고 했는데, 오류 메시지가 나타나면서 설치를 할 수 없었습니다. 또한 리포지토리 미러 사이트도 Ncloud 내부 서버가 아닌 록키 리눅스 공식 미러 사이트로 연결하려고 시도한 것을 확인할 수 있습니다.

``` bash
~# dnf -y install httpd

Rocky Linux 8.6 - Extras                                 5.4 kB/s |  20 kB     00:03
Errors during downloading metadata for repository &apos;extras&apos;:
  - Status code: 404 for https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&amp;repo=extras-8.6 (IP: 151.101.26.132)
  - Status code: 404 for https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&amp;repo=extras-8.6 (IP: 146.75.94.132)
Error: Failed to download metadata for repo &apos;extras&apos;: Cannot prepare internal mirrorlist: Status code: 404 for https://mirrors.rockylinux.org/mirrorlist?arch=x86_64&amp;repo=extras-8.6 (IP: 151.101.26.132)
```
{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-01.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

## 미러 사이트 확인
오류 메시지에 나온 공식 미리 사이트에 접속해보니 [**AppStream**], [**extras**] 등 모든 8.6 버전에 대한 정보가 사라진 것을 확인할 수 있었습니다.

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

## 오류 상황 요약 정리
현재 확인되는 오류 상황을 정리해보면 다음과 같습니다.

1. 패키지를 검색하는 저장소가 [**AppStream**] 이나 [**BaseOS**]가 아닌 [**Extras**]로 변경되어 있다.
2. 리포지토리 미러 사이트를 Ncloud 내부 서버가 아닌 외부에 있는 록키 리눅스 공식 미러 사이트로 접속시도 하고 있다.
3. 외부에 있는 록키 리눅스 공식 미러 사이트에서는 공식 지원이 종료되는 8.6 버전에 대한 데이터가 이미 삭제되어 있다. 

## 원인 분석
원인 분석을 하기 위해 서버의 리포지토리 설정을 확인해보겠습니다.

### 리포지토리 설정 - 오류 서버
[**/etc/yum.repos.d/**] 디렉토리에 있는 리포지토리 설정 파일을 확인해보면 아래와 같이 다수의 파일이 존재하는 것을 확인할 수 있습니다.

``` bash
~# ls -al /etc/yum.repos.d/
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-06.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

- 위에서 확인한 설정 파일들 중에서 [**Rocky-Extras.repo**] 파일을 열어서 미러 사이트 주소를 확인해보면, Ncloud 내부 서버가 아닌 아래와 같이 록키 리눅스 공식 사이트로 설정되어 있는 것을 알 수 있습니다.

``` bash
~# vi /etc/yum.repos.d/Rocky-Extras.repo
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-07.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

### 리포지토리 설정 - 정상 서버
그렇다면 아무 문제 없는 정상적인 서버의 경우는 어떤지 비교해서 살펴보겠습니다.  

마찬가지로 [**/etc/yum.repos.d/**] 디렉토리에 있는 리포지토리 설정 파일을 확인해보면 오류가 발생한 서버와 달리 아래와 같이 [**Rocky-AppStream.repo**], [**Rocky-BaseOS.repo**] 이렇게 2가지 파일만 존재하는 것을 확인할 수 있습니다.

``` bash
~# ls -al /etc/yum.repos.d/
```
{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-03.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

- 또한 2가지 설정 파일들 중에서 [**Rocky-AppStream.repo**] 파일을 열어서 미러 사이트 주소를 확인해보면, 록키 리눅스 공식 사이트는 주석 처리가 되어 있고, [**baseurl**]이 [**repo.ncloud.com**] 이라는 Ncloud 내부 서버로 설정되어 있는 것을 알 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-04.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}


### 원인 추적
오류가 발생한 서버와 정상적인 서버의 차이점을 비교 추적해보니 오류가 발생한 서버에서는 서버 생성 후에 `패키지 업데이트`가 진행된 것을 알 수 있었습니다. 
서버 생성 후에 설치된 패키지들의 업데이트를 적용하기 위해 [**dnf upgrade**]를 실행했고, 그에 따라 리포지토리 정보가 변경되었다는 것을 알 수 있었습니다.

``` bash
~# dnf -y upgrade
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-05.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}


{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;
[**dnf upgrade**]와 [**dnf update**]의 차이점에 대해 [**man dnf**] 명령어로 매뉴얼을 살펴보면 Rocky Linux에서 패키지 업데이트를 위한 기본 명령어는 [**dnf upgrade**]이며, [**dnf update**]는 더 이상 사용되지 않는 별칭이라고 합니다.
&quot; %}

``` bash
~# man dnf
#--- 중략 ---#
Upgrade Command
       Command: upgrade
       Aliases: up
       Deprecated aliases: update, upgrade-to, update-to, localupdate
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-11.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}


## 해결 방법
이 문제를 해결하는 방법은 몇가지가 있는데 차례대로 정리해보겠습니다.

### 방법-1
첫번째 방법은 [**Rocky-Extras.repo**] 리포지토리 설정파일의 주소를 Ncloud 내부 서버로 변경하는 방법입니다.

``` conf
# Rocky-Extras.repo

#mirrorlist=https://mirrors.rockylinux.org/mirrorlist?arch=$basearch&amp;repo=AppStream-$releasever
baseurl=http://repo.ncloud.com/rocky/$releasever/extras/$basearch/os/
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-08.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

- 주소를 변경 후에 아파치를 설치해보면 문제 없이 잘 설치 되는 것을 확인할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-09.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}


### 방법-2
두번째 방법은 패키지를 설치할 때 미러 사이트 주소가 변경된 [**Extras**] 저장소를 비활성화하는 옵션을 적용하는 방법입니다.

``` bash
~# dnf -y install httpd --disablerepo=extras
```
{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-10.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

## 사전 예방책
위 방법들은 패키지 업데이트 후에 문제를 해결하는 방법이므로, 사전에 이런 문제가 생기지 않도록 하는 것도 선택지 중의 하나입니다. 가능한 방법은 다음 2가지 입니다.
- 패키지 업데이트를 진행하지 않는 방법
- 보안-버그 수정 사항만 최소한으로 업데이트 하는 방법

### 패키지 최소 업데이트
보안-버그 수정 사항만 최소한으로 업데이트 하는 [**upgrade-minimal**] 옵션으로 업데이트를 했을 경우에는 아래와 같이 리포지토리 파일에 변화가 없어서 이후 패키지 설치에 오류가 생기지 않습니다.

``` bash
~# dnf -y upgrade-minimal
```

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-12.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-13.png&quot; sub-class=&quot;docimage-no-top&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Rocky Linux 서버 리포지토리 미러 사이트 오류 문제 해결 방법&quot; caption=&quot;&quot; %}


## 참고 URL
1.  Rocky Linux 서버 소개
	- &lt;a href=&quot;/compute/ncloud-compute-server-rocky-linux-guide.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/compute/ncloud-compute-server-rocky-linux-guide.html&lt;/a&gt;

2.  Rocky Linux 미러 사이트 리스트
	- &lt;a href=&quot;https://mirrors.rockylinux.org/mirrormanager/mirrors/Rocky&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://mirrors.rockylinux.org/mirrormanager/mirrors/Rocky&lt;/a&gt;
</description>
            <pubDate>Thu, 29 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-troubleshooting.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud-compute-server-rocky-linux-repository-mirror-site-error-troubleshooting.html</guid>
            
            <category>linux</category>
            
            <category>rocky_linux</category>
            
            
        </item>
        
        <item>
            <title>Ncloud VPC 환경에서 무료 서버(Micro Type) 이용하는 방법</title>
            <description>## 개요 
Ncloud (네이버 클라우드)는 체험 및 테스트 용도로 **최초 결제 수단 등록 월부터 1년간 무료**로 사용할 수 있는 Micro 타입 서버를 제공하고 있습니다. 전에는 Classic 환경에서만 이용할 수 있었는데, 최근 업데이트 이후 VPC 환경에서도 이용할 수 있게 되었기에, VPC 환경에서 무료 서버인 Micro 타입 서버를 생성하는 과정을 정리해보겠습니다.

## Micro 타입 서버 특징
- 스펙: vCPU 1개, 메모리 1GB
- `계정당 1대`만 이용 가능
- 체험용으로 가용성 및 성능 보장 불가
- 거주지 국가가 한국인 경우만 제공
- `신규 가입 후 최초 결제 수단 등록 월부터 1년간 무료` 제공, 1년이 지나면 **월요금제**로 과금
- 최초 결제 수단 등록 월은 포털 마이페이지 &gt; 결제수단 관리에서 확인
- Network Interface는 1개만 이용 가능
- 3세대(g3) 서버로 **KVM** 하이퍼바이저 기반의 서버만 제공
- 기본 스토리지는 **10 GB까지만 무료**이며, 용량을 늘리거나 추가하는 스토리지의 경우 유료 과금


## 서버 생성
[**VPC**] 환경에서 서버(Server)를 생성하려면 사전에 [**VPC**]와 [**Subnet**]이 생성되어 있어야 하는데, 혹시 처음 [**VPC**] 환경에 접속하셔서 [**VPC**]와 [**Subnet**]이 존재하지 않는 경우는 아래 문서를 보고 미리 생성하고 오셔야 합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;
&lt;a href=&apos;/compute/ncloud_compute_server_vpc_create.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;VPC 환경에서 서버 생성하는 방법 (VPC, Subnet 생성 포함)&lt;/a&gt;
&quot; %}

## Server 서비스 위치
[**Server**] 서비스는 [**Console**] - [**Services**] - [**Compute**]에 위치해 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-01.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**Server**] - [**Server**]에서 [**서버 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-02.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 서버 생성 콘솔 선택
Ncloud 서버 생성 콘솔화면은 신규 기능이 업데이트 되면서 2가지를 선택할 수 있습니다. Micro 타입 서버는 **KVM** 하이퍼바이저 기반의 서버이므로  [**신규 콘솔 화면**]으로 진행하겠습니다.

- 기존 콘솔 화면: **XEN, RHV** 하이퍼바이저 기반의 서버(g1,g2)를 생성할 수 있습니다.
- 신규 콘솔 화면: **XEN, RHV** 하이퍼바이저 기반의 서버(g1,g2)뿐만 아니라 **KVM** 기반 및 다양한 성능을 제공하는 기본 스토리지로 서버(**g3**)를 생성할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-03.png&quot; width=&quot;685&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 서버 이미지 선택
Micro 타입 서버를 생성하려면 하이퍼바이저 기준으로 [**KVM**] 서버 이미지를 선택하면 됩니다. 현재 Ncloud에서 제공되는 [**KVM**] 서버 이미지는 아래와 같이 [**CentOS 7.8**], [**Ubuntu 20.04**] 이렇게 2가지 입니다. 여기서는 Ubuntu 20.04로 생성해보겠습니다.

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-01.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}

## 서버 설정
서버 설정 단계에서는 [**VPC**]와 [**Subnet**]을 선택하고  [**서버 스펙**]과 [**요금제**], [**Network Interface**], [**공인 IP 할당 여부**] 등을 선택하게 됩니다. `서버는 1년간 무료이지만, 공인 IP를 할당하게 되면 공인 IP 비용이 청구됩니다.`

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-02.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}

## 스토리지 설정
KVM 하이퍼바이저 기반인 Micro 타입서버는 기본 스토리지 10GB까지만 무료로 제공되며, 용량을 늘릴 경우 비용이 발생합니다.

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-03.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}

## 인증키 설정
인증키 이름을 입력하고, [**인증키 생성 및 저장**] 버튼을 클릭해서 인증키를 로컬 PC에 다운로드 받아서 안전한 곳에 보관해야 합니다. 기존에 사용하고 있던 인증키가 있을 경우에는 [**보유하고 있는 인증키 이용**]을 선택하면 됩니다.

{% include warning.html title=&quot;인증키&quot; content=&quot;인증키는 해당 서버의 **관리자 비밀번호**를 확인하는데 사용되므로 **안전한 곳에 잘 보관**해야 합니다.&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-20.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 네트워크 접근 설정
네트워크 접근은 [**ACG**]로 설정하게 되는데, `ACG(Access Control Group)는 서버 간 네트워크 접근 제어 및 관리를 할 수 있는 IP/Port 기반 필터링 방화벽 서비스`로, 서버에 별도의 복잡한 방화벽 구축없이 간단하게 서버에 대한 네트워크 접근 제어를 할 수 있습니다.  
[**VPC**]를 생성하면 자동으로 생성되는 **기본 ACG**를 선택하거나 별도로 생성한 ACG가 있을 경우 해당 ACG를 선택하면 됩니다. **적용할 ACG는 최대 3개**까지 선택할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}

## 서버 생성 완료
모든 단계를 마치고 나면 아래와 같이 서버가 생성된 것을 확인할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-05.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}

## 서버 접속
생성된 서버에 접속해서 vCPU와 Memory 상태를 확인해보면 다음과 같습니다.

``` bash
~# grep -c processor /proc/cpuinfo
~# free
```

{% include image.html file=&quot;compute/ncloud-compute-micro-type-server-create-vpc-guide-06.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VPC 환경에서 무료 서버(Micro Type) 이용하는 방법&quot; caption=&quot;&quot; %}


## 참고 URL
1.  Ncloud 서버 접속 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/server-access-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/server-access-vpc&lt;/a&gt;

2.  Ncloud 서버 인증키 변경하는 방법
	- &lt;a href=&quot;/compute/ncloud-compute-server-change-authentication-key.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/compute/ncloud-compute-server-change-authentication-key.html&lt;/a&gt;
</description>
            <pubDate>Wed, 21 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud-compute-micro-type-server-create-vpc.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud-compute-micro-type-server-create-vpc.html</guid>
            
            <category>linux</category>
            
            <category>vpc</category>
            
            
        </item>
        
        <item>
            <title>Classic 환경 Micro 타입 서버에서 사용할 수 없는 서비스</title>
            <description>## 개요
Ncloud (네이버 클라우드) Classic 환경에서 제공하는 서버 타입 중에서 Micro 타입의 서버는 신규 가입 후 최초 결제수단 등록월부터 1년간 무료로 제공되는 체험용 서버입니다.
계정당 1대만 이용 가능하며 1년이 지나면 유료로 전환됩니다.

## 제한되는 서비스
Classic 환경 Micro 타입의 서버에서 사용할 수 없는 서비스는 다음과 같습니다.

- mssql
- LAMP, WordPress, LEMP 등
- Network Interface
- Private Subnet


### MSSQL 
mssql 중에서 mssql 2017 Express은 무료로 제공되는 서비스이지만, mssql이 1년 무료제공 서버인 Micro서버에서는 설치가 되지 않기 때문에, compact 이상의 유료 서버를 이용해야 합니다.
즉, mssql 2017 Express는 무료이나 서버와 그에 따른 하드 디스크 비용은 유료입니다.

### LAMP
LAMP (Linux + Apache, Mysql, PHP)의 경우 Micro 타입의 서버에 설치를 할 수 없고, Standard 이상의 서버에서만 설치할 수 있는데, 대신 네이버 클라우드에서는 LAMP 등 많이 사용되는 오픈 소스 소프트웨어가 설치된 서버를 쉽게 이용할 수 있도록 해주는 서비스인 Application Server Launcher를 제공하고 있습니다.

Application Server Launcher에서는 원하는 소프트웨어의 이미지를 선택하기만 하면 쉽게 Micro 타입의 서버를 세팅하고 이용할 수 있습니다.

{% include callout_v2.html type=&quot;success&quot; level=&quot;2&quot; content=&quot;다만, Application Server Launcher에서 생성한 서버도 Micro 타입의 서버이기 때문에 계정당 1개만 제공되는 Micro 타입 서버 기준에 따라 Micro 타입의 서버는 더 이상 추가할 수 없습니다.&quot; %}


Application Server Launcher에서 OS버전(CentOS, Ubuntu)별로 제공되는 애플리케이션은 다음과 같습니다.

- Drupal (CMS)
- Joomla! (CMS)
- Magento (E-Commerce)
- Shadowsocks (VPN)
- LAMP (Web Stack)
- WordPress (CMS)
- Jenkins (Dev Tools)


### Private Subnet
Private Subnet을 구성해서 서버환경을 만들려고 해도 Micro 서버 타입은 Network Interface를 추가할 수 없고, 그에 따라 Private Subnet도 적용할 수 없습니다.


## 참고 URL
1.  Ncloud 서버 사용 준비 - 제공되는 서버 스펙
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/server-spec&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/server-spec&lt;/a&gt;

</description>
            <pubDate>Tue, 20 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud_compute_server_micro_type_limit.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud_compute_server_micro_type_limit.html</guid>
            
            <category>limit</category>
            
            
        </item>
        
        <item>
            <title>Ncloud 서버에 SSH Key를 이용해 접속하는 방법</title>
            <description>## 개요 
리눅스 서버에 접속하는 방법은 [**아이디-패스워드**]로 접속하는 방법과 [**SSH Key**]를 이용해 접속하는 방법이 있습니다.  
Ncloud (네이버 클라우드)에서는 기본으로 [**아이디-패스워드**]로 접속하는 방법을 제공하고 있으므로 여기서는 다른 방법인 [**SSH Key**]를 이용해 서버에 접속하는 방법을 정리해보게겠습니다.

## 테스트 서버 준비
테스트로 사용할 서버는 [**Rocky Linux 8.6**] 서버로 생성했습니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## SSH Key 생성
우선 Ncloud 제공하는 [**아이디-패스워드**] 방식으로 서버에 접속한 후, 아래의 명령으로 SSH key를 생성합니다.

``` bash
~# ssh-keygen -t rsa -m pem
```

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-02.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

### 상세 설명
위의 SSH Key 생성 화면에서 몇가지를 좀 더 자세히 살펴보겠습니다.

- Key 저장 위치 설정  
아래 스샷처럼 생성된 [**SSH Key**]를 어느 위치에 저장할 것인지 확인하는 단계입니다. 아무것도 입력하지 않고 Enter 키를 입력하면 기본 저장 위치인 [/root/.ssh/id_rsa]에 저장됩니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-24.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- Key 파일 암호 설정  
보안을 좀 더 강화하려면 [**SSH Key**]를 사용할 때 암호(passphrase)를 입력하도록 설정할 수 있습니다. 아무것도 입력하지 않으면 암호 없이 사용하게 됩니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-25.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}


### 생성된 Key 확인
Key가 생성된 디렉토리로 이동해서 살펴보면 [**id_rsa**], [**id_rsa.pub**] 이렇게 2개의 파일이 생성된 것을 확인할 수 있습니다.

- id_rsa: Private Key
- id_rsa.pub: Public Key

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-03.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## Key 파일명 변경
mv 명령어를 사용해 [**SSH Key**] 인증에서 사용할 파일명으로 변경 합니다.

```bash
~# mv id_rsa id_rsa.pem
~# mv id_rsa.pub authorized_keys
```
{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-23.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## Private Key 복사
위에서 생성된 [**Private Key**]인 [**id_rsa.pem**] 파일을 로컬 PC로 가져오는 방법은 크게 2가지가 있는데 편하신 방법을 사용하면 되겠습니다. 

1. 암호화 텍스트로 구성된 파일의 내용을 복사해서 로컬 PC 텍스트 편집기에 붙여넣고 새로운 파일로 저장하는 방법
2. [**WinSCP**], [**FileZilla**] 등의 SFTP 프로그램을 이용해서 파일을 로컬 PC로 전송하는 방법

### 방법 1: 텍스트 복사
[**id_rsa.pem**] 파일은 암호화된 텍스트로 구성된 파일이므로 파일 내용을 확인해서 복사합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-26.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 복사한 내용을 로컬 PC의 텍스트 편집기에 붙여 넣고 저장합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-27.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

### 방법 2: WinSCP 접속
[**WinSCP**]로 서버에 접속하면 처음에는 파일이나 디렉토리가 전혀 보이지 않습니다. 즉, 인증키 파일이 저장된 [**.ssh**] 디렉토리가 숨겨진 디렉토리이기 때문입니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-04.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 숨겨진 디렉토리를 확인하기 위해 [**옵션**] - [**설정**] 메뉴에 들어갑니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-05.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- [**설정**] 창에서 [**패널**]을 선택하면 위쪽에 [**숨김 파일 표시**] 옵션이 있는데 이 옵션을 체크하고 [확인] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-06.png&quot; width=&quot;547&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

#### Key 전송
[**숨김 파일 표시**] 옵션을 체크하면 아래와 같이 [**.ssh**] 디렉토리를 확인할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-07.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- [**.ssh**] 디렉토리에 들어가서 [**id_rsa.pem**] 파일을 로컬 PC로 전송합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-08.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## PPK 파일 변환
[**SSH Key**] 인증으로 서버에 접속할 때 주로 사용하는 프로그램이 [**PuTTY**]인데, [**Putty**]에서는 [**PEM**] 파일이 아니라 [**PPK**]파일을 사용하기 때문에 [**PEM**] 파일을 [**PPK**]파일로 변환해야 합니다. 이럴 때 사용하는 것이 [**PuTTY Key Generator**] 즉, [**PuTTYgen**]인데, [**PuTTY**] 통합 설치 파일에 포함되어 있습니다.

### PuTTY 설치
[**PuTTYgen**] 사이트에 접속해서 [**PuTTY**]를 다운로드 받고 설치합니다.
- &lt;a href=&quot;https://www.puttygen.com/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://www.puttygen.com/&lt;/a&gt;

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-09.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 설치가 완료되었으면 로컬 PC에서 [**PuTTYgen**]을 찾아서 실행합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-10.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

### Key 변환
우선 위에서 로컬 PC로 전송받았던 [**id_rsa.pem**]을 파일을 불러오기 위해 [**PuTTYgen**] 화면에서 가운데에 있는 [**Load**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-11.png&quot; width=&quot;602&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 파일 선택창에서 파일 확장자를 [**All Files**]로 선택 하고 [**id_rsa.pem**] 파일을 선택하고 [**열기**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-12.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- [**Notice**] 팝업에서 [**확인**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-13.png&quot; width=&quot;337&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- [**Save private key**] 버튼을 눌러 PPK 파일로 변환합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-14.png&quot; width=&quot;602&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- Key 파일에 암호 즉, [**passphrase**]가 없을 경우 경고 팝업이 뜨는데 [**예**] 버튼을 클릭해서 다음 단계로 넘어 갑니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-15.png&quot; width=&quot;292&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 파일명을 입력 후 [**저장**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-16.png&quot; width=&quot;844&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## 서버 접속
이제 위에서 변환 저장한 Key 파일로 서버에 접속해보겠습니다.


### PuTTY 설정
우선, [**PuTTY**] 프로그램을 실행합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-17.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- [**Host Name (or IP address)**]에 접속할 서버의 IP를 입력합니다. 또는 [**계정@서버IP**] 형식으로 미리 로그인 계정을 입력해두는 방법도 있습니다. 
(예: 123.456.789.012 또는 root@123.456.789.012)

{% tabs putty-configuration %}

{% tab putty-configuration IP만 입력 %}

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-18.png&quot; width=&quot;452&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}
{% endtab %}

{% tab putty-configuration 계정@IP 입력 %}

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-28.png&quot; width=&quot;452&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}
{% endtab %}

{% endtabs %}

- 좌측의 Category에서 [**Conncetion**] - [**SSH**] - [**Auth**] - [**Credentials**] 설정 메뉴에서 [**Private key file for authentication**] 항목에 위에서 변환 저장했던 파일을 선택하기 위해 [**Browser**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-19.png&quot; width=&quot;452&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 위에서 저장했던 test-key.PPK 파일을 선택 합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-20.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

- 다음으로 아래쪽에 있는 [**Open**] 버튼을 클릭해서 서버에 접속합니다.

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-21.png&quot; width=&quot;452&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

## 서버 접속 완료
그러면 아래와 같이 비밀번호 입력 없이 [**Authenticating with public key &quot;imported-openssh-key&quot;**]라는 메시지가 나타나면서 서버에 접속됩니다.  
(PuTTY 접속 설정 [**Host Name**]에 IP만 입력했을 경우에는 [**login as**]에 로그인 계정을 입력해야 합니다.)

{% tabs ssh-key-connect %}

{% tab ssh-key-connect IP만 입력 %}

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-22.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

{% endtab %}

{% tab ssh-key-connect 계정@IP 입력 %}

{% include image.html file=&quot;compute/ncloud-compute-server-connect-by-ssh-key-29.png&quot; width=&quot;840&quot; alt=&quot;Ncloud (네이버 클라우드) Linux 서버에 SSH Key로 접속하는 방법&quot; caption=&quot;&quot; %}

{% endtab %}

{% endtabs %}



## 참고 URL
1.  Ncloud 서버 접속 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/server-access-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/server-access-vpc&lt;/a&gt;

2.  Ncloud 서버 인증키 변경하는 방법
	- &lt;a href=&quot;/compute/ncloud-compute-server-change-authentication-key.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/compute/ncloud-compute-server-change-authentication-key.html&lt;/a&gt;
</description>
            <pubDate>Mon, 19 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud-compute-server-connect-by-ssh-key.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud-compute-server-connect-by-ssh-key.html</guid>
            
            <category>linux</category>
            
            <category>password</category>
            
            
        </item>
        
        <item>
            <title>Windows 서버 스토리지(디스크) 추가 상세 가이드</title>
            <description>## 개요
**Ncloud (네이버 클라우드)는** 스토리지 당 **최대 2TB**까지 확장할 수 있으며, **최대 16개**의 스토리지를 이용할 수 있습니다.  
이번에는 Windows 서버에 스토리지 즉, 디스크를 추가하는 방법에 대해 정리해보겠습니다.

## 테스트 환경
Windows Server 2016 (64-bit) English Edition 으로 진행 되었습니다. 추가 스토리지는 총 10G disk 총 4개 입니다.

## 스토리지 생성

- 서버 &gt; 서버 관리 및 설정 변경 &gt; 스토리지생성

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_01.png&quot; width=&quot;745&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}



- 스토리지 생성에 필요한 내용을 입력합니다.
- 크기는 스토리지 하나 당 **10GB~2000GB까지** 사용할 수 있습니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_02.png&quot; width=&quot;695&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

- 사용 될 추가디스크를 생성합니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_03.png&quot; width=&quot;680&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

## 윈도우 서버 디스크 관리

- 디스크관리(윈도우키+r) : diskmgmt.msc

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_04.png&quot; width=&quot;450&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

### 디스크 초기화
- initializeDisk를 선택하여 디스크를 초기화 합니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_05.png&quot; width=&quot;805&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

### 초기화 방식 선택
- 두 가지 방식 중 하나를 선택합니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_06.png&quot; width=&quot;805&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

#### MBR과  GPT 차이

| MBR | GTP |
| :---: | :---: |
| 주파티션을 4개까지 생성 가능 | 주 파티션을 128개까지 생성 가능 |
| 디스크 용량 최대 2TB까지 인식 | 디스크 용량 최대 9.4ZB까지 인식 |
| BIOS가 설치된 PC에서 사용 | UEFI 또는 EFI가 설치된 PC에서 사용 가능 |
| Windows 32비트와 64비트 사용 가능 | Windows 32비트 사용 불가 |


### 볼륨 생성
- 새 단순 볼륨 생성하기

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_09.png&quot; width=&quot;805&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}

- 추가한 총 4개의 디스크 단순 볼륨 생성을 하였습니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_10.png&quot; width=&quot;805&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}


## 디스크 추가 확인
- 아래와 같이 추가 생성한 디스크 추가가 완료되었습니다.

{% include image.html file=&quot;compute/ncloud_compute_server_windows_storage_add_detail_process_11.png&quot; width=&quot;837&quot; alt=&quot;cloud Windows 서버 스토리지(디스크) 추가 상세 가이드&quot; caption=&quot;&quot; %}</description>
            <pubDate>Thu, 15 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud_compute_server_windows_storage_add_detail_process.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud_compute_server_windows_storage_add_detail_process.html</guid>
            
            <category>windows</category>
            
            <category>storage</category>
            
            
        </item>
        
        <item>
            <title>Ncloud VPC 환경에서 서버 생성하는 방법</title>
            <description>## 개요
Ncloud (네이버 클라우드) VPC환경에서 서버를 생성하는 순서를 정리해보겠습니다.  
얼마전 업데이트에서 서버 생성 콘솔 화면에 큰 변화가 생겼기에 그 내용까지 함께 포함했습니다.

## 서버 생성 순서
VPC 환경에서 서버를 생성하려면 Subnet 설정 등 사전에 미리 설정해야 하는 것과 서버 생성 후에 설정해야 하는 것들이 있는데, 순서대로 정리하고 아래쪽에서 차례대로 살펴보겠습니다.

1. VPC 설정
2. Subnet 설정
3. 서버 생성  
  3-1. 서버 인증키 설정
4. ACG (방화벽) 설정


## VPC 설정
VPC (Virtual Private Cloud) 즉, 클라우드 상에서 논리적으로 격리된 고객 전용 네트워크 공간을 먼저 생성하고 해당 공간에 서버를 생성하게 됩니다.  
VPC는 고객의 계정마다 **최대 3개**를 생성할 수 있으며, 각 VPC는 최대 넷마스크 0.0.255.255/16 (IP 65,536개) 크기의 네트워크 주소 공간을 제공합니다.

### VPC 서비스 위치
[VPC] 서비스는 [Console] - [Services] - [Networking]에 위치해 있습니다.

그리고, 아래 스샷에서 확인할 수 있듯이 [VPC]에는 [VPC], [Subnet], [Network ACL], [NAT Gateway], [Route Table], [VPC Peering], [Virtual Private Gateway] 등의 하부 서비스 메뉴가 있습니다.

{% include image.html file=&quot;networking/ncloud-networking-vpc-subnet-create-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC 환경에서 VPC, Subnet 생성&quot; caption=&quot;&quot; %}


## VPC 생성
[**VPC**] - [**VPC Management**] [**VPC 생성**] 버튼을 클릭합니다. 

{% include image.html file=&quot;networking/ncloud-networking-vpc-subnet-create-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC 환경에서 VPC, Subnet 생성&quot; caption=&quot;&quot; %}

- VPC 생성 화면에서 [**VPC 이름**]과 [**IP 주소 범위**]를 입력합니다.

{% include image.html file=&quot;networking/ncloud-networking-vpc-subnet-create-03.png&quot; width=&quot;685&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 VPC, Subnet 생성&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;
VPC의 IP 주소 범위는, private 대역(10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16) 내에서 /16~/28 범위여야 합니다.&lt;br /&gt;
- 예시: 10.0.0.0/16, 172.16.0.0/16, 192.168.0.0/16
&quot; %}

## Subnet 생성
[**VPC**] - [**Subnet Management**]에서 [**Subnet 생성**] 버튼을 클릭합니다. 

{% include image.html file=&quot;networking/ncloud-networking-vpc-subnet-create-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 VPC, Subnet 생성&quot; caption=&quot;&quot; %}

- [**Subnet 이름**]을 적절하게 입력하고, 위에서 생성했던 [**VPC**]를 선택하고, Subnet에서 사용할 [**IP 주소 범위**]를 입력합니다.
- [**Internet Gateway 전용여부**]는 외부와 인터넷 연결이 필요할 경우에는 [**Public**], 내부 서버끼리만 통신할 경우에는 [**Private**]을 선택합니다.
- [**용도**]는 일반 서버일 경우에는 [**일반**]을 선택하면 됩니다.

{% include image.html file=&quot;networking/ncloud-networking-vpc-subnet-create-05.png&quot; width=&quot;685&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 VPC, Subnet 생성&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;
Subnet의 IP 주소 범위는, private 대역(10.0.0.0/8, 172.16.0.0/12, 192.168.0.0/16) 내에서 /16~/28 범위여야 합니다.&lt;br /&gt;
- 예시: 10.0.1.0/24, 172.16.10.0/24, 192.168.101.0/24
&quot; %}

## 서버 생성
[**VPC**]와 [**Subnet**] 설정을 마쳤으니 이제 서버(Server)를 설정해보겠습니다.

### Server 서비스 위치
[Server] 서비스는 [Console] - [Services] - [Compute]에 위치해 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-01.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**Server**] - [**Server**]에서 [**서버 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-02.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

### 서버 생성 콘솔 선택
Ncloud 서버 생성 콘솔화면은 신규 기능이 업데이트 되면서 2가지를 선택할 수 있습니다. 여기서는 [**신규 콘솔 화면**]으로 진행하겠습니다.

- 기존 콘솔 화면: **XEN, RHV** 하이퍼바이저 기반의 서버(g1,g2)를 생성할 수 있습니다.
- 신규 콘솔 화면: **XEN, RHV** 하이퍼바이저 기반의 서버(g1,g2)뿐만 아니라 **KVM** 기반 및 다양한 성능을 제공하는 기본 스토리지로 서버(**g3**)를 생성할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-03.png&quot; width=&quot;685&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

### 서버 이미지 선택
[**서버 이미지 선택**] 단계에서는 Ncloud에서 제공하는 다양한 서버 이미지를 선택할 수 있고, [**최신 서버 이미지**]와 [**내 서버 이미지**]를 따로 볼 수 있는 기능도 제공하고 있습니다. 여기서는 [**최신 서버 이미지**]에서 제공하는 서버 이미지로 서버를 생성해보겠습니다.  
또한 하이퍼바이저 기준으로 [**XEN**]과 [**KVM**] 2가지 타입이 제공되는데 여기서는 [**XEN**] 타입의 서버로 테스트 해보겠습니다. [**XEN**]과 [**KVM**]에 대한 설명은 아래쪽에서 별도로 살펴보겠습니다. ([XEN 과 KVM 비교&lt;i class=&quot;fa-solid fa-turn-down&quot;&gt;&lt;/i&gt;](#xen-vs-kvm))

{% tabs server-image-choice %}

{% tab server-image-choice 최신 서버 이미지 %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}
{% endtab %}

{% tab server-image-choice NCP 서버 이미지 %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-23.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

{% endtab %}
{% endtabs %}

### 서버 설정 (전체 화면)
서버 설정 단계에서는 위에서 생성한 [**VPC**]와 [**Subnet**]을 선택하고  [**서버 스펙**]과 [**요금제**], [**Network Interface**], [**공인 IP 할당 여부**] 등을 선택하게 됩니다. 각 항목별 상세한 설명은 아래쪽에서 다시 정리해보겠습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-05.png&quot; width=&quot;845&quot; height=&quot;811&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

### 서버 설정 (상세 설명)
그러면 이제부터 서버 설정 항목별로 상세하게 살펴보겠습니다.

- [**VPC**], [**Subnet**] 선택  
위에서 생성했던 [**VPC**]와 [**Subnet**] 선택합니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-06.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**서버 스펙**]  
[**서버 스펙**]은 [**High-CPU**], [**CPU-Intensive**], [**Standard**], [**High-Memory**] 등의 타입 중에서 원하는 타입을 선택하고, 각 타입별로 서비스에 적절한 vCPU와 Memory를 선택하시면 됩니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-07.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**요금제 선택**], [**서버 개수**], [**서버 이름**]  
요금제는 [**월요금제**]와 [**시간 요금제**] 중에서 선택하시고, 한번에 생성할 서버 개수와 서버 이름을 입력합니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-08.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**Network Interface**] 사설 IP 할당  
사설 IP 할당은 자동 할당과 수동 할당 방법 중에서 선택하시면 됩니다.

{% tabs private-ip-assign %}

{% tab private-ip-assign 사설 IP 자동 할당 %}
&lt;br /&gt;
[**Network Interface**]에 할당되는 사설 IP는 아래와 같이 IP 입력 칸에 아무것도 입력하지 않으면 자동할당 됩니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-09.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-10.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}
{% endtab %}

{% tab private-ip-assign 사설 IP 수동 할당 %}
&lt;br /&gt;
IP 입력 칸에 선택된 [**Subnet**] 범위 내의 원하는 IP를 입력해서 수동으로 할당할 수도 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-11.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-12.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

{% endtab %}
{% endtabs %}

- [**공인 IP 할당**]  
Public Subnet을 선택했고 서버에 공인 IP가 필요할 경우에는 [**새로운 공인 IP 할당**]을 선택하시면 됩니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; 공인 IP는 요금이 과금되므로, 사용하지 않을 때는 반납하기를 권장합니다. (월 이용료: 4,032원 ) &lt;br /&gt;
&amp;#8259; 서버 생성시 공인 IP를 함께 생성하려면 Subnet 타입은 Public Subnet, 서버 개수는 1개여야 합니다.
&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-13.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**물리 배치 그룹**] 설정
물리 배치 그룹 설정은 서버들을 하나의 그룹으로 묶어서 해당 그룹에 속한 서버들을 클러스터에 배치할 때 어떻게 할 것인지 결정할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-14.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**물리 배치 그룹**]을 사용하게 되면 배치 그룹명과 배치 종류를 선택할 수 있습니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;[**Anti-Affinity (분산 배치)**]의 경우 같은 배치 그룹에 소속된 서버들은 가급적 서로 다른 클러스터에 배치됩니다. 다만 그 결과가 엄격히 보장되지 않는 Best effort 방식입니다.&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-15.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**반납 보호**]  
반납 보호를 설정하면 실수로 서버를 반납하여, 서버가 삭제되는 사고를 방지할 수 있습니다.
{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-16.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-17.png&quot; width=&quot;485&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

- [**Script 선택**]  
서버가 켜질 때 자동으로 실행되어야 하는 스크립트가 있다면 [**Server**] - [**Init Script**] 메뉴에서 미리 Script를 등록한 후에 적용할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-18.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}


## 스토리지 설정
하이퍼바이저 [**XEN**] 타입의 서버는 서버 생성이 완료된 이후에 추가 스토리지를 설정할 수 있으므로 이번 단계는 그냥 넘어가겠습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-19.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 인증키 설정
인증키 이름을 입력하고, [**인증키 생성 및 저장**] 버튼을 클릭해서 인증키를 로컬 PC에 다운로드 받아서 안전한 곳에 보관해야 합니다. 기존에 사용하고 있던 인증키가 있을 경우에는 [**보유하고 있는 인증키 이용**]을 선택하면 됩니다.

{% include warning.html title=&quot;인증키&quot; content=&quot;인증키는 해당 서버의 **관리자 비밀번호**를 확인하는데 사용되므로 **안전한 곳에 잘 보관**해야 합니다.&quot; %}

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-20.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 네트워크 접근 설정
네트워크 접근은 [**ACG**]로 설정하게 되는데, `ACG(Access Control Group)는 서버 간 네트워크 접근 제어 및 관리를 할 수 있는 IP/Port 기반 필터링 방화벽 서비스`로, 서버에 별도의 복잡한 방화벽 구축없이 간단하게 서버에 대한 네트워크 접근 제어를 할 수 있습니다.  
[**VPC**]를 생성하면 자동으로 생성되는 **기본 ACG**를 선택하거나 별도로 생성한 ACG가 있을 경우 해당 ACG를 선택하면 됩니다. **적용할 ACG는 최대 3개**까지 선택할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-21.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}

## 서버 생성 완료
모든 단계를 마치고 나면 아래와 같이 서버가 생성된 것을 확인할 수 있습니다.

{% include image.html file=&quot;compute/ncloud-compute-vpc-server-create-guide-22.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC 환경에서 서버를 생성하는 방법&quot; caption=&quot;&quot; %}


## XEN vs KVM {#xen-vs-kvm}
Ncloud (네이버 클라우드)에서 제공하는 하이퍼바이저의 종류는 XEN, KVM이 있으며, 각각의 특징은 다음과 같습니다.

&lt;div&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;하이퍼바이저&lt;/th&gt;
      &lt;th&gt;서버 세대&lt;/th&gt;
      &lt;th&gt;서버 타입&lt;/th&gt;
      &lt;th&gt;서버 이미지&lt;/th&gt;
      &lt;th&gt;스토리지 타입&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;    
    &lt;tr&gt;
      &lt;td&gt;XEN&lt;/td&gt;
      &lt;td&gt;g1, g2&lt;/td&gt;
      &lt;td&gt;Micro, Standard, CPU-Intensive, High-CPU, High-Memory&lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;
      &lt;td&gt;HDD, SDD&lt;/td&gt;
    &lt;/tr&gt; 
    &lt;tr&gt;
      &lt;td&gt;KVM&lt;/td&gt;
      &lt;td&gt;g3&lt;/td&gt;
      &lt;td&gt;Micro
        &lt;br /&gt;(Standard, CPU-Intensive, High-CPU, High-Memory 는 출시 예정)
      &lt;/td&gt;
      &lt;td&gt;KVM 기반 서버 이미지&lt;/td&gt;
      &lt;td&gt;FB1, CB1&lt;/td&gt;
    &lt;/tr&gt;    
  &lt;/tbody&gt;
&lt;/table&gt;  
&lt;/div&gt;

### 스토리지 특징

&lt;div&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;하이퍼바이저&lt;/th&gt;      
      &lt;th&gt;스토리지 타입&lt;/th&gt;
      &lt;th&gt;미디어 타입&lt;/th&gt;
      &lt;th&gt;최소 크기&lt;/th&gt;
      &lt;th&gt;최대 크기&lt;/th&gt;
      &lt;th&gt;추가 가능 개수&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;    
    &lt;tr&gt;
      &lt;td rowspan=&quot;2&quot;&gt;XEN&lt;/td&gt;
      &lt;td&gt;HDD&lt;/td&gt;
      &lt;td&gt;HDD&lt;/td&gt;
      &lt;td&gt;10GB&lt;/td&gt;
      &lt;td&gt;2TB&lt;/td&gt;
      &lt;td&gt;15개&lt;/td&gt;
    &lt;/tr&gt;  
    &lt;tr&gt;     
      &lt;td&gt;SSD&lt;/td&gt;
      &lt;td&gt;SSD&lt;/td&gt;
      &lt;td&gt;10GB&lt;/td&gt;
      &lt;td&gt;2TB&lt;/td&gt;
      &lt;td&gt;15개&lt;/td&gt;
    &lt;/tr&gt; 
    &lt;tr&gt;
      &lt;td rowspan=&quot;2&quot;&gt;KVM&lt;/td&gt;
      &lt;td&gt;FB1&lt;/td&gt;
      &lt;td&gt;HDD&lt;/td&gt;
      &lt;td&gt;100GB&lt;/td&gt;
      &lt;td&gt;16TB&lt;/td&gt;
      &lt;td&gt;20개&lt;/td&gt;
    &lt;/tr&gt;  
    &lt;tr&gt;     
      &lt;td&gt;CB1&lt;/td&gt;
      &lt;td&gt;SSD&lt;/td&gt;
      &lt;td&gt;10GB&lt;/td&gt;
      &lt;td&gt;16TB&lt;/td&gt;
      &lt;td&gt;20개&lt;/td&gt;
    &lt;/tr&gt;        
  &lt;/tbody&gt;
&lt;/table&gt;  
&lt;/div&gt;

## 참고 URL
1.  Ncloud VPC 서버 생성 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/server-create-new-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/server-create-new-vpc&lt;/a&gt;

2.  Ncloud 하이퍼바이저 개요
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/hypervisor-info&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/hypervisor-info&lt;/a&gt;

</description>
            <pubDate>Wed, 14 Jun 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud_compute_server_vpc_create.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud_compute_server_vpc_create.html</guid>
            
            <category>vpc</category>
            
            
        </item>
        
        <item>
            <title>Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 소개</title>
            <description>## 개요
Ncloud (네이버 클라우드) Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개를 정리해보겠습니다.

## 테스트 환경
- VPC와 Private Subnet
- Cloud DB for MSSQL 15.0.4.198.2 Standard Edition (MSSQL 2019)

## Cloud DB for MSSQL 서비스 위치
[**Cloud DB for MSSQL**]은 [**콘솔**] - [**Services**] - [**Database**]에서 찾을 수 있습니다.  

그리고 Cloud DB for MSSQL에는 다음과 같은 메뉴들이 있는데, 자세한 내용은 아래쪽에서 메뉴별로 하나씩 소개해보겠습니다.
- DB Server
- Monitoring
- Backup
- Event
- Config Group

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

## DB Server 메뉴
DB Server 메뉴에서는 MSSQL Server를 생성, 삭제하거나 운영 중인 MSSQL Server 목록을 확인할 수 있습니다. 또한 운영 중인 MSSQL Server의 스펙을 변경하거나 관리자(User) 계정 등을 관리할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### 재시작
서버를 재시작합니다. 정지 기능은 제공하지 않습니다.

### DB Server 삭제
DB Server를 삭제합니다. 동시에 Mirror 도 같이 삭제 되며, 삭제하는 DB Server의 모든 데이터는 삭제됩니다.  
이때, `백업된 데이터도 같이 삭제되고 삭제 이후에는 복구 할 수 없으니` 만약의 경우를 대비하여 백업 데이터를 별도로 보관하는 것도 좋은 방법입니다.

### Monitoring
DB Dashboard, Performance, DB Logs, Audit Logs 등의 메뉴를 제공하여 각 종 로그와 성능 지표를 확인할 수 있도록 Monitoring 서비스 항목으로 이동합니다.

### DB 관리

- **DB Server 상세보기**
    - DB Config 관리: DB Config Croup 변경이 가능합니다.
    - Database 관리:  Databases를 생성 및 삭제할 수 있습니다.
    - Db User 관리: 관리자용 DB 계정의 비밀번호를 변경할 수 있습니다.
    - Backup 설정관리: Backup 파일의 보관 기간 및 Backup 시간을 관리합니다.
    - DB 스펙변경: DB Server의 스펙을 변경합니다.
    - Audit 설정 관리: Audit 설정을 활성화 하면 DB 서버의 로그인 기록 및 데이터베이스 내 오브젝트 생성, 변경, 삭제 기록(DDL)을 남길 수 있습니다.
    - Log 다운로드: Error Log, Default Trace File, Agent Log, Audit Log 파일을 다운로드 할 수 있습니다.

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;**DB 스펙 변경**은 **동일한 DB 서비스 이름**으로 서비스 되는 모든 서버(**Principle, Mirror, Slave** 등)가 똑같이 변경되며 DB Server가 재시작 됩니다. 또한, 재시작 동안에는 DB Server 접속할 수 없습니다.&quot; %}
    
- **Slave 추가** : 선택한 DB Service의 Slave DB Server를 추가합니다.
- **읽기가능 시간 조정** : 매일 정해진 시간에 읽기 가능하도록 설정하여 batch 등에 사용할 수 있습니다. (Slave DB 생성 후 적용가능)
- **고가용성 설정 변경** : DB Server를 Stand Alone 또는 고가용성 구성으로 변경하며, 이때 서버 스펙, DB 설정 정보는 동일하게 설정됩니다.
- **Public 도메인 관리** : 외부에서 접근할 수 있는 Public 도메인을 신청할 수 있습니다.
- **MSSQL Engine Upgrade** : DB Server Engine 버전을 업그레이드 합니다.

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;**MSSQL Engine Upgrade**는 리스트에 있는 전체 서버의 버전이 변경되고, **버전 업그레이드 중에는 DB서버 접근이 차단**됩니다.&quot; %}

## Monitoring 메뉴

MSSQL Server 성능 및 이력에 대한 모니터링 정보를 확인할 수 있습니다. Monitoring은 별도의 추가 비용 없이 사용이 가능합니다. 

### DB Dashboard
Monitoring에서 제공하고 있는 대시보드는 여러 개의 그래픽 차트로 구성되어 있으며, 사용자는 서버별로 확인하고 싶은 대시보드에서 원하는 정보만 디스플레이하여 직관적으로 확인할 수 있습니다. 대시보드에서 보여주는 정보는 매분 수집하여 표시하되 평균값을 보여줍니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### Performance
운영 중인 MSSQL Server의 성능 관련 모니터링 정보를 보여줍니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-03.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### DB Logs
운영 중인 MSSQL Server에서 발생한 모든 로그의 발생 시간 및 내용을 기록하여 보여줍니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-04.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

## Backup 메뉴
Backup에서는 Cloud DB for MSSQL을 사용 중인 사용자의 캐시 데이터를 안전하게 보관하기 위해 서버별로 설정해놓은 백업 정보를 확인할 수 있습니다. 또한 장애가 발생하여 캐시 데이터가 손실된 경우 보관 중이던 백업 파일로 복원을 진행할 수도 있으며, 고가용성 설정을 사용하는 서버 뿐만 아니라 Stand Alone Server도 백업 및 복원 기능을 사용할 수 있습니다.

### 기본 수행 규칙
백업과 복원을 사용하기 위해서 우선 Cloud DB for MSSQL에서 제공하고 있는 백업에 대한 기본 수행 규칙을 이해하는 것이 좋습니다. 

- 백업 수행 방식
  - 풀백업: 하루 한 번씩 매일 수행
  - 자동 설정과 사용자 정의 설정 가운데 선택
    - 자동 설정: MSSQL Server 생성 시 임의의 시간이 지정되며, 이후 처음 백업된 시간과 유사한 시간에 백업 수행
    - 사용자 정의 설정: 사용자가 선택한 시간 +15분 내 백업 수행 시작
  - 로그백업: 15분 간격으로 자동 수행. 시간 설정 불가

- 백업 파일
  - 보관 기간: 사용자 설정에 따라 최대 30일까지 보관 가능
  - 저장 위치: 별도의 데이터 스토리지(백업 파일 크기에 따라 스토리지 계약 진행)

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-05.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

- **DB 서비스 이름**: 사용자가 지정한 DB Service 이름
- **Backup 보관일**: 백업 파일을 데이터 스토리지에 저장하여 보관하는 최대 일수
- **FullBackup 시작 시간**: 매일 1회 풀백업을 수행하는 시간
- **보관중인 Backup 데이터 크기**: 완료된 백업 파일의 총 크기 (풀백업과 로그백업 파일의 합)
- **FullBackup 데이터 크기**: 풀백업 파일의 크기
- **Log Backup 데이터 크기**: 풀백업 이후에 생성된 로그백업의 크기
- **Log Backup 수**: 풀백업 이후에 생성된 로그백업의 개수
- **상세정보 보기**: 서버별 생성된 백업 파일 목록의 상세 정보 및 복원

### Backup 리스트 확인
[Backup] - [상세정보 보기] - [상세내역]에서 백업 수행을 완료하여 서버별로 생성된 백업 파일 목록을 확인하고 복원할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-06.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

- **DB 이름**: 백업된 DB 이름
- **FullBackup 시작시간**: 백업이 시작된 시간
- **FullBackup 종료시간**: 백업이 완료된 시간
- **FullBackup 크기**: 백업 파일의 사이즈
- **연관된 Log Backup 크기**: 풀백업 이후 생성된 로그백업의 사이즈

### 복원
[Backup] - [상세정보 보기] - [상세내역] - [복원하기] 기능으로 보관되어 있는 백업 파일 목록 가운데 원하는 백업 파일을 선택하여 MSSQL Server를 복원할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-07.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

Backup 파일 보관 기간 내의 원하는 시간으로 DB 복원이 가능합니다. 복원 요청 시 신규 DB Server가 생성되며, 선택한 시간으로 DB 데이터가 복원됩니다. 그리고, 생성된 DB Server는 **Stand Alone 모드로 복원**됩니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-08.png&quot; width=&quot;685&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

## Event 메뉴
Cloud DB for MSSQL 서버에서 발생한 이벤트 이력을 확인할 수 있습니다. 알람 항목과 임계치를 지정하여 이벤트를 생성하면 해당 이벤트가 발생할 때 메일과 SMS로 통보받을 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-09.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

이벤트 알림 설정은 [Event Rule 설정(Cloud Insight)]을 클릭하여 Cloud Insight 서비스로 이동하여 설정 가능합니다.

Cloud Insight 설정 방법은 아래 링크를 참조합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/management/ncloud_management_cloud_insight_guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; 모니터링 서비스 Cloud Insight 설정 가이드&lt;/a&gt;&lt;br /&gt;
&amp;#8259; &lt;a href=&apos;/management/ncloud-management-cloud-insight-rule-template-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; 모니터링 서비스 Cloud Insight Rule Template 설정 가이드&lt;/a&gt;
&quot; %}


## Config Group 메뉴
Config Group에서는 생성한 MSSQL Server를 그룹핑하여 그룹에 속한 서버들에 동일한 설정값을 지정하여 효율적으로 관리할 수 있고 생성, 변경, 삭제할 수 있습니다. 생성된 Config Group은 여러 MSSQL Service에 적용이 가능하며 MSSQL 설치 기본값이 포함된 Config Group이 기본 제공됩니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-10.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### Config Group 생성

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-11.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### Config 변경
`기본 Config Group는 임의로 변경할 수 없으며`, 추가로 생성한 Config Group만 변경이 가능합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-setting-manage-guide-12.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL의 메뉴와 주요 기능에 대한 간략한 소개&quot; caption=&quot;&quot; %}

### 삭제
기본 Config Group은 삭제가 불가능 합니다. 추가로 생성한 Config Group만 삭제가 가능합니다.



## 참고 URL
1. Ncloud Cloud DB for MSSQL 기본 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&lt;/a&gt;

2. Ncloud Cloud DB for MSSQL 기능 상세 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/clouddbformssql-dbserver-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/clouddbformssql-dbserver-vpc&lt;/a&gt;
</description>
            <pubDate>Wed, 31 May 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-setting-manage-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-setting-manage-guide.html</guid>
            
            <category>database</category>
            
            <category>mssql</category>
            
            <category>clouddb</category>
            
            <category>vpc</category>
            
            
        </item>
        
        <item>
            <title>Cloud DB for MSSQL 생성후 Public 도메인으로 접속하기</title>
            <description>## 개요
Ncloud(네이버 클라우드) VPC 환경에서 관리형 MSSQL DB 서버인 Cloud DB for MSSQL 생성 Public 도메인으로 접속하는 방법에 대하여 정리해보겠습니다.

## 테스트 환경
- VPC와 Public Subnet
- Cloud DB for MSSQL 15.0.4.198.2 Standard Edition (MSSQL 2019)

## Cloud DB for MSSQL 서비스 위치
[**콘솔**] - [**Services**] - [**Database**]에서  [**Cloud DB for MSSQL**]을 찾을 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

## Cloud DB for MSSQL 서버 생성
[**Cloud DB for MSSQL**] - [**DB Server**]에서 [**DB server 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

### 서버 설정
생성할 서버의 스펙 선택 및 세부정보를 입력합니다. 

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-18.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL은 **고가용성(HA) 기능 즉, 서버 이중화를 기본으로 지원**합니다. 운영 중인 Principal Server에서 장애가 발생하여 정상적인 서비스가 불가능한 경우 Mirror Server로 자동 Failover 합니다. DNS 방식으로 이중화를 구성하므로 별도의 애플리케이션 변경이 필요 없습니다.&quot; %}

{% include warning.html title=&quot;Subnet 선택 주의사항&quot; content=&quot;서버를 생성 후에는 Subnet 변경이 불가합니다. 회사 PC 등 외부에서 접근이 필요하실 경우는 ACG에서 IP 제한을 적용한 후 Public Subnet으로 설정하고, 내부 서버를 통해 접근하거나 SSL VPN을 이용해 접속할 경우는 Private Subnet으로 설정하면 됩니다. &quot; %}

{% include callout-v2.html type=&quot;success&quot; level=&quot;2&quot; content=&quot;여기서는 외부에서 접근하는 방식을 테스트할 예정이므로 **Public Subnet**을 선택합니다.&quot; %}

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL의 스토리지 용량은 최소 100GB부터 10GB씩 자동 증가되며 최대 2TB까지 사용 가능합니다. &quot; %}

### DB 설정
다음으로 계정 정보와 DB 접속 포트 등을 입력하고, Backup 관련 설정을 선택합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-05.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;Backup 파일 보관 기간은 최소 1일 부터 최대 30일까지 선택 가능하며 FullBackup만 지원하고 있습니다. Backup 시간은 자동 또는 수동모드로 변경하여 시간 지정이 가능합니다.&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL 서버는 고가용성을 선택할 경우 서버 생성까지 대략 **1시간** 정도가 소요되니 여유를 갖고 기다리시면 됩니다.&quot; %}

### DB 생성 완료
생성될 서버의 최종 정보를 확인하고 서버를 생성하면 아래와 같이 기본 옵션으로 선택했던 고가용성에 해당하는 Principal, Mirror 이렇게 2대의 서버가 생성된 것을 확인할 수 있습니다. 또한 Subnet도 [**Public Subnet**]으로 설정된 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-19.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}


## ACG 설정
이제 외부에서 Cloud DB for MSSQL로 접속할 수 있도록 ACG를 설정해야 합니다.

생성된 MSSQL DB 서버의 상세 정보를 살펴보면 DB 생성 과정에서 ACG가 자동으로 생성, 적용되어 있는 것을 아래와 같이 확인할 수 있습니다. 
- ACG 옆에 있는 아이콘을 클릭해서 ACG 화면으로 이동합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-20.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}


- 위에서 확인했던 Cloud DB for MSSQL의 ACG [**cloud-mssql-\*\*\***]를 선택 후 ACG 설정을 클릭합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-21.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

- Inbound 규칙에서 접근 소스는 [**myIp**] 버튼을 클릭해서 현재 IP 즉, 사무실 IP 등을 등록하고 허용 포트 1433을 추가합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-22.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}


## Public 도메인 할당
다음으로, 사무실 등의 외부에서 Cloud DB에 접속하려면 Public 도메인을 추가로 할당해야 합니다.  [**DB 관리**] - [**Public 도메인 관리**] 메뉴를 클릭해 Public 도메인을 신청합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-23.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

- Public 도메인 신청 팝업을 확인하고 [**예**] 버튼을 클릭합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-24.png&quot; width=&quot;485&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-25.png&quot; width=&quot;485&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

- 신청 후 잠시 기다렸다 Cloud DB for MSSQL 서버의 상세 정보를 살펴보면 아래와 같이 [**Public 도메인**]이 할당된 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-26.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}


## DB 서버 접속

### SQL Server Management Studio 설치
사무실 PC에 MSSQL Client인 SSMS (SQL Server Management Studio)를 다운로드하고 설치합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; SSMS (SQL Server Management Studio) 다운로드&lt;/a&gt;
&quot; %}

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-27.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

- 설치된 SSMS (SQL Server Management Studio)를 찾아서 실행합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-28.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

### DB Server Public 도메인 확인
아래 화면처럼 DB 서버 상세 정보에서 확인한 **Public 도메인** 주소를 복사해서 다음 단계인 DB 로그인 창에 입력하면 됩니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-26.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

### DB 로그인
로그인 접속 화면에서 정보를 입력하고 접속합니다.

- 서버 이름 : {MSSQL DB Server의 **Public 도메인**}, {접속 포트} (쉼표로 구분하여 입력)
- 인증 : [SQL Server 인증] 으로 변경합니다.
- 로그인 및 암호 : DB 서버 생성과정에서 입력한 유저 정보를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-29.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}

- 정상적으로 접속된 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-30.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성후 Public 도메인으로 접속하는 방법&quot; caption=&quot;&quot; %}


## 참고 URL
1. Ncloud Cloud DB for MSSQL 기본 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&lt;/a&gt;

2. SSMS (SQL Server Management Studio) 다운로드
	- &lt;a href=&quot;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&lt;/a&gt;
</description>
            <pubDate>Tue, 30 May 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-public-domain-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-public-domain-guide.html</guid>
            
            <category>database</category>
            
            <category>mssql</category>
            
            <category>clouddb</category>
            
            <category>vpc</category>
            
            
        </item>
        
        <item>
            <title>VPC환경에서 Cloud DB for MSSQL 생성하기</title>
            <description>## 개요
Ncloud(네이버 클라우드) VPC 환경에서 관리형 MSSQL DB 서버인 Cloud DB for MSSQL 생성 및 접속 방법에 대하여 정리해보겠습니다.

## 테스트 환경
- VPC와 Private Subnet
- Cloud DB for MSSQL 15.0.4.198.2 Standard Edition (MSSQL 2019)
- DB 접속 테스트용 서버 windows 2019 64bit en

## Cloud DB for MSSQL 서비스 위치
[**콘솔**] - [**Services**] - [**Database**]에서  [**Cloud DB for MSSQL**]을 찾을 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

## Cloud DB for MSSQL 서버 생성
[**Cloud DB for MSSQL**] - [**DB Server**]에서 [**DB server 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

### 서버 설정
생성할 서버의 스펙 선택 및 세부정보를 입력합니다. 

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-03.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL은 **고가용성(HA) 기능 즉, 서버 이중화를 기본으로 지원**합니다. 운영 중인 Principal Server에서 장애가 발생하여 정상적인 서비스가 불가능한 경우 Mirror Server로 자동 Failover 합니다. DNS 방식으로 이중화를 구성하므로 별도의 애플리케이션 변경이 필요 없습니다.&quot; %}

{% include warning.html title=&quot;Subnet 선택 주의사항&quot; content=&quot;서버를 생성 후에는 Subnet 변경이 불가합니다. 내부 서버를 통해 접근하거나 SSL VPN을 이용해 접속할 경우는 Private Subnet으로 설정하고, 회사 PC 등 외부에서 접근이 필요하실 경우는 ACG에서 IP 제한을 적용한 후 Public Subnet으로 설정하면 됩니다. &quot; %}

{% include callout-v2.html type=&quot;success&quot; level=&quot;2&quot; content=&quot;여기서는 내부 서버를 통해 접근하는 방식을 테스트할 예정이므로 **Private Subnet**을 선택합니다.&quot; %}

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL의 스토리지 용량은 최소 100GB부터 10GB씩 자동 증가되며 최대 2TB까지 사용 가능합니다. &quot; %}

### DB 설정
다음으로 계정 정보와 DB 접속 포트 등을 입력하고, Backup 관련 설정을 선택합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-05.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;Backup 파일 보관 기간은 최소 1일 부터 최대 30일까지 선택 가능하며 FullBackup만 지원하고 있습니다. Backup 시간은 자동 또는 수동모드로 변경하여 시간 지정이 가능합니다.&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;Cloud DB for MSSQL 서버는 고가용성을 선택할 경우 서버 생성까지 대략 **1시간** 정도가 소요되니 여유를 갖고 기다리시면 됩니다.&quot; %}

### DB 생성 완료
생성될 서버의 최종 정보를 확인하고 서버를 생성하면 아래와 같이 기본 옵션으로 선택했던 고가용성에 해당하는 Principal, Mirror 이렇게 2대의 서버가 생성된 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-06.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}


## 테스트용 Windows 서버 생성
Cloud DB for MSSQL 서버에 접속할 테스트 용도의 Windows 서버를 생성하고, 서버 정보에서 ACG 설정에 필요한 사설(비공인) IP를 확인합니다. 이 비공인 IP는 아래쪽 ACG 설정에서 사용하게 됩니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-07.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

## ACG 설정
이제 테스트용 Windows 서버에서 Cloud DB for MSSQL로 접속할 수 있도록 ACG를 설정해야 합니다.

생성된 MSSQL DB 서버의 상세 정보를 살펴보면 DB 생성 과정에서 ACG가 자동으로 생성, 적용되어 있는 것을 아래와 같이 확인할 수 있습니다. 
- ACG 옆에 있는 아이콘을 클릭해서 ACG 화면으로 이동합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-08.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}


- 위에서 확인했던 Cloud DB for MSSQL의 ACG [cloud-mssql-\*\*\*]를 선택 후 ACG 설정을 클릭합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-10.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

- Inbound 규칙에 위에서 확인했던 테스트용 Windows 서버의 비공인 IP를 접근 소스로 등록하고 허용 포트 1433을 추가합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-11.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}


## DB 서버 접속

### SQL Server Management Studio 설치
테스트용 Windows 서버에 할당된 공인IP로 접속해 MSSQL Client인 SSMS (SQL Server Management Studio)를 다운로드하고 설치합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; SSMS (SQL Server Management Studio) 다운로드&lt;/a&gt;
&quot; %}

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-16.png&quot; width=&quot;844&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

설치된 SSMS (SQL Server Management Studio)를 찾아서 실행합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-17.png&quot; width=&quot;844&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

### DB Server Private 도메인 확인
Cloud DB for MSSQL 서버에 접속하기 위해서는 DB 서버 생성 시에 설정된 **Private 도메인**을 이용해야 하는데, 아래 화면처럼 DB 서버 상세 정보에서 **Private 도메인**을 확인할 수 있습니다. 해당 **Private 도메인** 주소를 복사해서 다음 단계인 DB 로그인 창에 입력하면 됩니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-09.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

### DB 로그인
로그인 접속 화면에서 정보를 입력하고 접속합니다.

- Server name : {MSSQL DB Server의 **Private 도메인**}, {접속 포트} (쉼표로 구분하여 입력)
- Authentication : [SQL Server Authentication] 으로 변경합니다.
- Login 및 Password : DB 서버 생성과정에서 입력한 유저 정보를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-13.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}

- 정상적으로 접속된 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-cloud-db-for-mssql-14.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud VPC환경에서 Cloud DB for MSSQL 생성하는 방법&quot; caption=&quot;&quot; %}


## 참고 URL
1. Ncloud Cloud DB for MSSQL 기본 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/clouddbformssql-start-vpc&lt;/a&gt;

2. SSMS (SQL Server Management Studio) 다운로드
	- &lt;a href=&quot;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://learn.microsoft.com/ko-kr/sql/ssms/download-sql-server-management-studio-ssms&lt;/a&gt;
</description>
            <pubDate>Fri, 26 May 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/database/ncloud-database-cloud-db-for-mssql-guide.html</guid>
            
            <category>database</category>
            
            <category>mssql</category>
            
            <category>clouddb</category>
            
            <category>vpc</category>
            
            
        </item>
        
        <item>
            <title>Load Balancer에 연동된 NginX에서 Client IP 기록하고 확인하는 방법</title>
            <description>## 개요
Ncloud (네이버 클라우드)에서 Load Balancer에 연동된 NginX 웹서버를 사용할 때 Load Balancer IP가 아닌 실제 Client IP를 기록하고 확인하는 방법을 알아보겠습니다.
결론부터 이야기 하자면 `NginX에서는 Apache와 달리 별도의 모듈 설치나 환경 설정 파일 수정 없이도 자동으로 실제 Client IP와 Load Balancer IP가 동시에 모두 기록`됩니다. 어떻게 기록되는지 테스트 결과를 보면서 확인해보겠습니다.

## 테스트 환경

{% include callout_v2.html type=&quot;secondary&quot; level=&quot;2&quot; content=&quot;
&amp;#8259; Server-1: CentOS 7.8 &lt;br /&gt;
&amp;#8259; Server-2: Ubuntu 20.04 &lt;br /&gt;
&amp;#8259; NginX: NginX 1.23.1 &lt;br /&gt; 
&quot; %}

## 서버 준비
Ncloud 콘솔에서 CentOS 7.8, Ubuntu 20.04 두 대의 서버를 아래와 같이 준비했습니다.

{% include callout_v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;NginX를 설치하는 방법은 아래 문서를 참고하시기 바랍니다. &lt;br /&gt;&lt;br /&gt;
- &lt;a href=&apos;/compute/ncloud_compute_lemp_nginx_install_setting_centos_guide.html&apos; target=&apos;_blank&apos;&gt;CentOS에 NginX 설치하기&lt;/a&gt;&lt;br /&gt;
- &lt;a href=&apos;/compute/ncloud_compute_lemp_nginx_install_setting_ubuntu_guide.html&apos; target=&apos;_blank&apos;&gt;Ubuntu에 NginX 설치하기&lt;/a&gt;
&quot; %}

{% include image.html file=&quot;compute/lemp/ncloud-server-nginx-access-client-ip-log-01.png&quot; width=&quot;845&quot; alt=&quot;Load Balancer에 연동된 NginX 웹서버에서 Client IP 기록하고 확인하는 방법입&quot; caption=&quot;&quot; %}

## Load Balancer 준비
Load Balancer도 [**Application Load Balancer**]를 [**10.0.4.0**] 대역으로 설정해서 준비했습니다.

{% include callout_v2.html type=&quot;info&quot; level=&quot;2&quot; content=&quot;Application Load Blancer 의 생성 가이드는 아래 문서를 참고하시기 바랍니다. &lt;br /&gt;&lt;br /&gt;
- &lt;a href=&apos;/networking/ncloud_networking_load_balancer_application_lb.html&apos; target=&apos;_blank&apos;&gt;VPC 환경에서 Application Load Balancer 생성하기&lt;/a&gt;&quot; %}

{% include image.html file=&quot;compute/lemp/ncloud-server-nginx-access-client-ip-log-02.png&quot; width=&quot;845&quot; alt=&quot;Load Balancer에 연동된 NginX 웹서버에서 Client IP 기록하고 확인하는 방법입&quot; caption=&quot;&quot; %}

## Access Log 확인
Ncloud의 상품인 [**Cloud Log Analytics**]에서 NginX의 로그를 확인해보면 아래와 같이 Log 내용에 앞쪽에는 [**Load Balancer IP**]가 기록되어 있고, 제일 뒤쪽에는 [**실제 Client IP**]가 기록되어 있는 것을 확인할 수 있습니다. 해당 서버들에는 오로지 NginX만 설치했고, 다른 모듈을 설치하거나 환경 설정 파일을 변경하지 않은 상태입니다.

{% include image.html file=&quot;compute/lemp/ncloud-server-nginx-access-client-ip-log-03.png&quot; width=&quot;845&quot; alt=&quot;Load Balancer에 연동된 NginX 웹서버에서 Client IP 기록하고 확인하는 방법입&quot; caption=&quot;&quot; %}



## 참고 URL
1.  Rocky Linux NginX 설치 기본 가이드
	- &lt;a href=&quot;https://docs.rockylinux.org/guides/web/nginx-mainline/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.rockylinux.org/guides/web/nginx-mainline/&lt;/a&gt;

2.  Rocky Linux NginX Multi Site 설치 가이드
	- &lt;a href=&quot;https://docs.rockylinux.org/guides/web/nginx-multisite/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.rockylinux.org/guides/web/nginx-multisite/&lt;/a&gt;</description>
            <pubDate>Tue, 23 May 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/compute/ncloud-compute-nginx-client-ip-logging-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/compute/ncloud-compute-nginx-client-ip-logging-guide.html</guid>
            
            <category>lemp</category>
            
            <category>nginx</category>
            
            <category>log</category>
            
            
        </item>
        
    </channel>
</rss>
