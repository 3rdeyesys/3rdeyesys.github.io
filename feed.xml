<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>3RDEYESYSTEM Technical Documentations</title>
        <description>써드아이시스템(3rdeyesys) 기술문서 사이트입니다 - Ncloud 프리미엄 파트너</description>
        <link>https://docs.3rdeyesys.com/</link>
        <atom:link href="https://docs.3rdeyesys.com/feed.xml" rel="self" type="application/rss+xml"/>
        <pubDate>Mon, 10 Apr 2023 16:22:11 +0900</pubDate>
        <lastBuildDate>Mon, 10 Apr 2023 16:22:11 +0900</lastBuildDate>
        <generator>Jekyll v4.2.2</generator>
        
        
        <item>
            <title>Rocky Linux 서버에 MySQL 5.7 설치하는 방법</title>
            <description>## 개요
록키 리눅스(Rocky Linux)는 기본 데이터베이스가 MariaDB인데, 상황에 따라 MySQL이 필요한 경우가 있습니다. 이번에는 그 중에서 MySQL 5.7 버전을 설치하는 방법을 정리해보겠습니다.

## 서버 준비
우선 Rocky Linux 서버를 준비합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-01.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### Rocky Linux 소개
록키 리눅스에 대한 간략한 소개는 아래 문서에서 확인할 수 있습니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/compute/ncloud-compute-server-rocky-linux-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; Ncloud에서 제공하는 록키 리눅스(Rocky Linux) 서버 소개&lt;/a&gt;
&quot; %}

## 패키지 업데이트
우선 패키지 업데이트를 해보겠습니다.

``` bash
~# dnf update
```
{% include note.html title=&quot;dnf&quot; content=&quot;Dandified YUM의 약자인 dnf는 기존의 yum 패키지 관리자가 갖고 있던 여러 단점들을 수정, 업그레이드해서 
Fedora 18 이후 버전에서 사용되고 있으며, Rocky Linux도 마찬가지로 dnf를 기본 패키지 관리자로 사용하고 있습니다. 물론 호환성을 위해서 yum 명령어도 사용할 수 있습니다.
&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-02.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}


## MySQL Community 패키지 설치
MySQL 5.7 버전이 포함된 가장 최근의 Repository 설치 패키지는 mysql80-community-release-el7-7.noarch.rpm 입니다.

``` bash
~# dnf -y install https://dev.mysql.com/get/mysql80-community-release-el7-7.noarch.rpm
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-04.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}


## MySQL 5.7 버전 리포지토리 활성화

### 버전 활성화 정보 초기화

``` bash
~# dnf module reset mysql
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-05.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}


### 기본 MySQL 버전 비활성화

``` bash
~# dnf module disable mysql
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-06.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}


### MySQL 5.7 버전 활성화
설치된 MySQL Community 패키지에서 MySQL 8.0 버전은 비활성화 하고, 5.7 버전을 활성화 합니다.

``` bash
~# dnf config-manager --disable mysql80-community
~# dnf config-manager --enable mysql57-community
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-07.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## MySQL 5.7 설치
MySQL 5.7 서버를 설치합니다.

``` bash
~# dnf -y install mysql-community-server
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-08.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## MySQL 초기화
아래 명령어로 기본 데이터베이스 생성 등의 초기화 작업을 진행합니다. 다만 여기서는 초기화 할 때 --initialize-insecure 옵션으로 비밀번호는 설정하지 않고 아래쪽 MySQL 보안 설정 단계에서 [**mysql_secure_installation**] 명령으로 설정하도록 하겠습니다.

``` bash
~# mysqld --initialize-insecure --user=mysql
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-09.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## MySQL 데몬 시작
초기화를 마쳤으면 MySQL 데몬을 시작합니다.

``` bash
~# systemctl start mysqld
```

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-10.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## MySQL 보안 설정
[**mysql_secure_installation**]은 MySQL의 기본 보안을 설정하는 명령으로, 설정되는 항목은 다음과 같습니다.

- root 계정 패스워드 설정
- 원격 호스트에서 root 계정 접속 차단
- 익명 계정 삭제
- 테스트 DB 등 삭제

``` bash
~# mysql_secure_installation
```

- 비밀번호를 설정할 때 비밀번호 유효성 검사 플러그인을 사용할 것인지 선택할 수 있는데 [**Y**]를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-11.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### 비밀번호 정책 수준 선택
제공되는 비밀번호 정책 수준은 [**LOW**], [**MEDIUM**], [**STRONG**]의 3가지가 있습니다.
- LOW: 8자 이상
- MEDIUM: 8자 이상, 숫자-대소문자-특수문자 포함
- STRONG: 8자 이상, 숫자-대소문자-특수문자 포함, dictionary file에 포함된 단어 사용 불가

여기서는 1을 입력해서 MEDIUM을 선택하겠습니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-12.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

- 패스워드를 입력하면 패스워드의 복잡성 강도를 점수로 측정해주는데 이번 테스트에서는 100점을 받았습니다.  
그리고, 방금 입력했던 패스워드를 그대로 사용할 것인지 확인하는데 변경할 경우는 [**N**]를 그대로 사용할 경우에는 [**Y**]를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-13.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### 익명 계정 삭제
다음으로 Anonymous Users 즉, 익명 계정들을 삭제할 것인지 묻는데 [**Y**]를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-14.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### 원격 호스트에서 root 계정 접속 차단
다음은 로컬이 아닌 원격에서 root 계정 로그인을 차단할 것인지 묻는데 [**Y**]를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-15.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### 테스트 DB 등 삭제
테스트 DB 등을 삭제할 것인지 묻는데 여기서도 [**Y**]를 입력합니다.
{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-16.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

### 설정 저장
마지막으로 지금까지 선택한 설정을 모두 적용할 것인지 묻는데 [**Y**]를 입력합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-17.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## MySQL 접속
위에서 설정했던 비번으로 접속해보면 [**5.7.41 MySQL Community Server**]인 것을 확인할 수 있습니다.

{% include image.html file=&quot;database/ncloud-database-mysql-57-install-on-rocky-linux-18.png&quot; width=&quot;840&quot; alt=&quot;Ncloud Rocky Linux 서버에 MySQL 5.7 설치하는 방법에 대한 가이드&quot; caption=&quot;&quot; %}

## 참고 URL
1. MySQL Yum Repository 다운로드 페이지
	- &lt;a href=&quot;https://dev.mysql.com/downloads/repo/yum/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://dev.mysql.com/downloads/repo/yum/&lt;/a&gt;

1. Installing MySQL on Linux Using the MySQL Yum Repository
	- &lt;a href=&quot;https://dev.mysql.com/doc/refman/8.0/en/linux-installation-yum-repo.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://dev.mysql.com/doc/refman/8.0/en/linux-installation-yum-repo.html&lt;/a&gt;  </description>
            <pubDate>Mon, 10 Apr 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/database/ncloud-database-mysql-57-install-on-rocky-linux.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/database/ncloud-database-mysql-57-install-on-rocky-linux.html</guid>
            
            <category>database</category>
            
            <category>mysql</category>
            
            <category>install</category>
            
            
        </item>
        
        <item>
            <title>MySQL Multi Source Replication 구성 가이드</title>
            <description>## 개요

n대의 마스터 DB와 1대의 슬레이브 DB를 연결하여 마스터 DB들의 데이터를 슬레이브 DB 한곳에 모아 조회할 수 있는  MySQL Multi-Source-Replication(MSR)을 구성하는 방법을 정리해보겠습니다.

## 테스트 준비

- 마스터 서버 2대, 슬레이브 서버 1대 준비
- 각 서버에 MySQL 5.7 이상 설치
- MySQL 리플리케이션작업 진행 시 마스터 서버의 데이터베이스에 쓰기 작업 금지

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}


## ACG 설정
서버 준비가 끝났으면 우선 마스터 서버 &lt;i class=&quot;fa-solid fa-arrow-right&quot;&gt;&lt;/i&gt; 슬레이브 서버로 디비 백업 파일 복사과 복제 구성에 필요한 22, 3306 포트를 오픈해야 합니다.  
오픈 할 때 규칙은 마스터 서버와 슬레이브 서버의 공통 ACG에 사설 IP 대역 전체를 지정할 수도 있고, 슬레이브 서버 전용 ACG에 마스터 서버 IP만 등록하는 방법도 있습니다.

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## Slave 장비에 백업 디렉토리 생성
먼저 Slave 장비에 Master 장비들로 부터 DB 복원용 덤프 파일을 전송 받을 백업 디렉토리를 생성하는 것 부터 시작하겠습니다.

```bash
~# mkdir /data
~# cd /data
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-15.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## Master1 장비 구성

### master1 설정 추가
- /etc/my.cnf에 Master1 설정을 추가합니다.

```bash
~# vi /etc/my.cnf

server-id = 1
log-bin = mysql-bin
binlog_format = mixed
character-set-server = utf8

#MySQL을 재시작해 변경사항 적용.
~# systemctl restart mysqld
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-03.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-04.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### 리플리케이션 계정 생성
MySQL 접속 후 리플리케이션을 진행할 계정 생성

```bash
#master1 계정 생성.
mysql&gt; create user &apos;리플리케이션 계정명&apos;@&apos;%&apos; identified by &apos;패스워드&apos;;
mysql&gt; grant replication slave,replication client on *.* to &apos;리플리케이션 계정명&apos;@&apos;%&apos;;
mysql&gt; flush privileges;
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-05.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### 테스트 DB 생성
다음으로 테스트에 사용할 DB를 생성하겠습니다. 이미 생성되어 있는 다른 DB를 사용할 경우에는 별도로 테스트용 DB를 생성할 필요는 없습니다.

```bash
mysql&gt; CREATE DATABASE testdb1 default CHARACTER SET UTF8;
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-07.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### Master1 정보확인
이제 리플리케이션 설정에 필요한 Master 정보를 확인합니다.

```bash
mysql&gt; show variables like &apos;server_id&apos;;
mysql&gt; show master status;
```

{% include callout-v2.html type=&quot;warning&quot; level=&quot;3&quot; content=&quot;
[**show master status**] 명령으로 확인한 [**File**], [**Position**] 정보는 아래쪽에서 `Slave DB를 설정할 때 입력해야 하므로 별도로 기록해두어야` 합니다.
&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-06.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}


### DB 백업 파일 슬레이브 장비로 전송
testdb1 DB의 백업파일을 생성하고, 슬레이브 서버로 전송합니다.

```bash
~# mkdir /data
~# cd /data
~# mysqldump -u root -p --databases testdb1 &gt; /data/test1.sql 

#슬레이브 서버에 전송.
~# scp test1.sql root@10.0.0.8:/data
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-08.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## Master2 장비 구성

### Master2 설정 추가
- /etc/my.cnf에 Master2 설정을 추가합니다.

```bash
~# vi /etc/my.cnf

server-id = 2
log-bin = mysql-bin
binlog_format = mixed
character-set-server = utf8

#DB를 재시작하여 변경사항 적용.
~# systemctl restart mysqld
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-09.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-10.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### 리클리케이션 계정 생성
MySQL 접속 후 리플리케이션을 진행할 계정 생성합니다.

```bash
#master2 계정 생성.
mysql&gt; create user &apos;리플리케이션 계정명&apos;@&apos;%&apos; identified by &apos;패스워드&apos;;
mysql&gt; grant replication slave,replication client on *.* to &apos;리플리케이션 계정명&apos;@&apos;%&apos;;
mysql&gt; flush privileges;
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-11.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### 테스트 DB 생성
다음으로 테스트에 사용할 DB를 생성하겠습니다. 이미 생성되어 있는 다른 DB를 사용할 경우에는 별도로 테스트용 DB를 생성할 필요는 없습니다.

```bash
mysql&gt; CREATE DATABASE testdb2 default CHARACTER SET UTF8;
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-13.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

### Master2 정보확인
마찬가지로 리플리케이션 설정에 필요한 Master 정보를 확인합니다.

```bash
mysql&gt; show variables like &apos;server_id&apos;;
mysql&gt; show master status;
```


{% include callout-v2.html type=&quot;warning&quot; level=&quot;3&quot; content=&quot;
[**show master status**] 명령으로 확인한 [**File**], [**Position**] 정보는 아래쪽에서 `Slave DB를 설정할 때 입력해야 하므로 별도로 기록해두어야` 합니다.
&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-12.png&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}


### DB 백업 파일 슬레이브 장비로 전송
testdb2 DB의 백업파일 생성하고, 슬레이브 서버로 전송합니다.

```bash
~# mkdir /data
~# cd /data
~# mysqldump -u root -p --databases testdb2 &gt; /data/test2.sql

~# scp test2.sql root@10.0.0.8:/data
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-14.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## Slave 장비 구성

### Slave 설정 추가
- /etc/my.cnf에 Slave 설정을 추가합니다.  
MySQL 8.0 버전 부터는 replicate-do-db 설정에 채널 정보도 추가할 수 있게 업데이트 되었습니다.

{% tabs slave_my_cnf %}

{% tab slave_my_cnf MySQL 5.7 %}
```bash
~# vi /etc/my.cnf

### MySQL5.7 기준 ###

server-id = 3 

#리플리케이션 대상 디비 설정.
replicate-do-db = testdb1
replicate-do-db = testdb2

#리플리케이션 제외 디비 설정.
replicate-ignore-db = information_schema
replicate-ignore-db = mysql
replicate-ignore-db = performance_schema
replicate-ignore-db = sys

master_info_repository = &apos;TABLE&apos;
relay_log_info_repository = &apos;TABLE&apos;
slave-skip-errors = all

#DB를 재시작하여 변경사항 적용.
~# systemctl restart mysqld
```
{% endtab %}

{% tab slave_my_cnf MySQL 8.0 %}
```bash
~# vi /etc/my.cnf

### MySQL 8 기준 ###

server-id = 3 

# 리플리케이션 대상 디비 설정 (replicate-do-db = 채널명:DB명)
replicate-do-db = ch_testdb1:testdb1
replicate-do-db = ch_testdb1:testdb2

#리플리케이션 제외 디비 설정.
replicate-ignore-db = information_schema
replicate-ignore-db = mysql
replicate-ignore-db = performance_schema
replicate-ignore-db = sys

master_info_repository = &apos;TABLE&apos;
relay_log_info_repository = &apos;TABLE&apos;
slave-skip-errors = all

#DB를 재시작하여 변경사항 적용.
~# systemctl restart mysqld
```
{% endtab %}

{% endtabs %}


{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-16.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-17.png&quot; width=&quot;840&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}


### DB 복구 진행
먼저 복구할 DB를 미리 생성하고 Master1, Master2 장비에서 전송 받은 백업 파일을 사용해 DB를 복구합니다.
```bash
#복구할 DB 생성.
mysql&gt; create database testdb1;
mysql&gt; create database testdb2;
mysql&gt; quit

#DB 복구
~# mysql -u root -p testdb1 &lt; /data/test1.sql
~# mysql -u root -p testdb2 &lt; /data/test2.sql
```

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-18.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

- 백업 파일을 전송 받은 디렉토리로 이동해 백업 파일이 정상적으로 전송되었는지 확인합니다.
{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-19.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-20.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## 리플리케이션 채널 설정
리플리케이션 채널을 설정하는 쿼리문은 다음과 같습니다.  
채널 설정 구문은 MySQL 버전별로 다르고, 특히 8.0.23 버전부터는 완전히 달라지므로 버전에 맞게 사용하시면 됩니다.

{% tabs config_channel %}

{% tab config_channel MySQL 5.7 %}
```bash
# MySQL 5.7
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;마스터IP&apos;, MASTER_PORT=포트번호, MASTER_USER=&apos;생성한 리플리케이션 계정명&apos;, MASTER_PASSWORD=&apos;패스워드&apos;, MASTER_LOG_FILE=&apos;위에서 확인된 File명&apos;, MASTER_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;채널 이름&apos;;
```
{% endtab %}

{% tab config_channel MySQL 8.0 ~ 8.0.22 %}
```bash
# MySQL 8.0 ~ 8.0.22
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;마스터IP&apos;, MASTER_PORT=포트번호, MASTER_USER=&apos;생성한 리플리케이션 계정명&apos;, MASTER_PASSWORD=&apos;패스워드&apos;, GET_MASTER_PUBLIC_KEY=1, MASTER_LOG_FILE=&apos;위에서 확인된 File명&apos;, MASTER_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;채널 이름&apos;;
```
{% endtab %}

{% tab config_channel MySQL 8.0.23 ~ %}
```bash
# MySQL 8.0.23 이후 버전
mysql&gt; CHANGE REPLICATION SOURCE TO SOURCE_HOST=&apos;마스터IP&apos;, SOURCE_PORT=포트번호, SOURCE_USER=&apos;생성한 리플리케이션 계정명&apos;, SOURCE_PASSWORD=&apos;패스워드&apos;, GET_SOURCE_PUBLIC_KEY=1, SOURCE_LOG_FILE=&apos;위에서 확인된 File명&apos;, SOURCE_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;ch_testdb1&apos;;
```
{% endtab %}

{% endtabs %}

여기에 필요한 정보 중에서 [**MASTER_LOG_FILE**(**SOURCE_LOG_FILE**)]과 [**MASTER_LOG_POS**(**SOURCE_LOG_POS**)]은 위쪽에서 확인한 Master DB들의 정보에 나타났던 것으로 정리하면 다음과 같습니다.

&lt;div class=&quot;col-sm-12&quot;&gt;
&lt;div class=&quot;col-sm-6&quot;&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;DB&lt;/th&gt;
      &lt;th&gt;File&lt;/th&gt;
      &lt;th&gt;Position&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;Master1&lt;/td&gt;&lt;td&gt;mysql-bin.000001&lt;/td&gt;&lt;td&gt;1321&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;Master2&lt;/td&gt;&lt;td&gt;mysql-bin.000002&lt;/td&gt;&lt;td&gt;970&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;    
&lt;/div&gt;
&lt;/div&gt;

### Master 서버 정보 입력
Slave 서버에 Master 서버 정보를 하나씩 입력합니다.

{% tabs config_channel_sample %}

{% tab config_channel_sample MySQL 5.7 %}
```bash
#Master1
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;10.0.0.6&apos;, MASTER_USER=&apos;testuser&apos;, MASTER_PORT=3306, MASTER_PASSWORD=&apos;Test123$&apos;, MASTER_LOG_FILE=&apos;mysql-bin.000001&apos;, MASTER_LOG_POS=1321 FOR CHANNEL &apos;ch_testdb1&apos;;

#Master2
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;10.0.0.7&apos;, MASTER_USER=&apos;testuser&apos;, MASTER_PORT=3306, MASTER_PASSWORD=&apos;Test123$&apos;, MASTER_LOG_FILE=&apos;mysql-bin.000002&apos;, MASTER_LOG_POS=970 FOR CHANNEL &apos;ch_testdb2&apos;;

mysql&gt; FLUSH PRIVILEGES;
```
{% endtab %}

{% tab config_channel_sample MySQL 8.0 ~ 8.0.22 %}
```bash
#Master1
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;10.0.0.6&apos;, MASTER_USER=&apos;testuser&apos;, MASTER_PORT=3306, MASTER_PASSWORD=&apos;Test123$&apos;, GET_MASTER_PUBLIC_KEY=1, MASTER_LOG_FILE=&apos;mysql-bin.000001&apos;, MASTER_LOG_POS=1321 FOR CHANNEL &apos;ch_testdb1&apos;;

#Master2
mysql&gt; CHANGE MASTER TO MASTER_HOST=&apos;10.0.0.7&apos;, MASTER_USER=&apos;testuser&apos;, MASTER_PORT=3306, MASTER_PASSWORD=&apos;Test123$&apos;, GET_MASTER_PUBLIC_KEY=1, MASTER_LOG_FILE=&apos;mysql-bin.000002&apos;, MASTER_LOG_POS=970 FOR CHANNEL &apos;ch_testdb2&apos;;

mysql&gt; FLUSH PRIVILEGES;
```
{% endtab %}

{% tab config_channel_sample MySQL 8.0.23 ~ %}
```bash
#Master1
mysql&gt; CHANGE REPLICATION SOURCE TO SOURCE_HOST=&apos;10.0.0.6&apos;, SOURCE_PORT=3306, SOURCE_USER=&apos;testuser&apos;, SOURCE_PASSWORD=&apos;Test!@123&apos;, GET_SOURCE_PUBLIC_KEY=1, SOURCE_LOG_FILE=&apos;mysql-bin.000001&apos;, SOURCE_LOG_POS=1321 FOR CHANNEL &apos;ch_testdb1&apos;;

#Master2
mysql&gt; CHANGE REPLICATION SOURCE TO SOURCE_HOST=&apos;10.0.0.7&apos;, SOURCE_PORT=3306, SOURCE_USER=&apos;testuser&apos;, SOURCE_PASSWORD=&apos;Test!@123&apos;, GET_SOURCE_PUBLIC_KEY=1, SOURCE_LOG_FILE=&apos;mysql-bin.000001&apos;, SOURCE_LOG_POS=970 FOR CHANNEL &apos;ch_testdb2&apos;;

mysql&gt; FLUSH PRIVILEGES;
```
{% endtab %}

{% endtabs %}

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-21.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}


### 리플리케이션 채널 시작
리플리케이션 시작 후 에러가 없는지 확인합니다.  

{% tabs start_channel %}

{% tab start_channel MySQL 5.7 %}
```bash
#MySQL 5.7 기준
mysql&gt; start slave for channel &apos;ch_testdb1&apos;; 
mysql&gt; start slave for channel &apos;ch_testdb2&apos;;

mysql&gt; show slave status for channel &apos;ch_testdb1&apos;\G 
mysql&gt; show slave status for channel &apos;ch_testdb2&apos;\G
```
{% endtab %}

{% tab start_channel MySQL 8.0 %}
```bash
#MySQL 8 기준
mysql&gt; start replica for channel &apos;ch_testdb1&apos;; 
mysql&gt; start replica for channel &apos;ch_testdb2&apos;;

mysql&gt; show replica status for channel &apos;ch_testdb1&apos;\G 
mysql&gt; show replica status for channel &apos;ch_testdb2&apos;\G
```
{% endtab %}

{% endtabs %}


- Master1  
상태 확인에서는 [**Slave_IO_State**], [**Slave_IO_Running**], [**Slave_SQL_Running**] 항목들이 아래와 같이 되어 있으면 정상입니다.

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-22.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

- Master2  
상태 확인에서는 [**Slave_IO_State**], [**Slave_IO_Running**], [**Slave_SQL_Running**] 항목들이 아래와 같이 되어 있으면 정상입니다.

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-23.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## 리플리케이션 테스트
리플리케이션 설정을 모두 마친 후에 Master 서버들에서 DB 작업을 진행하고, Slave 서버에 해당 내용이 복제되는지 확인해보겠습니다.

- Master1 서버 작업  
Master1 서버에 테스트를 위한 [**sampletable**] Table을 생성합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-24.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

-  Slave 서버 확인  
Slave 서버에서 testdb1 DB에 sampletable Table이 복제되었는지 확인합니다.

{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-25.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

-  Master2 서버 작업  
Master2 서버에 테스트를 위한 [**sampletable**] Table을 생성합니다.
{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-26.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

- Slave 서버 확인  
Slave 서버에서 testdb2 DB에 sampletable Table이 복제되었는지 확인합니다.
{% include image.html file=&quot;database/ncloud-database-mysql-multi-source-replication-guide-27.png&quot; width=&quot;840&quot; alt=&quot;Ncloud에서 MySQL Multi Source Replication 구성하는 방법&quot; caption=&quot;&quot; %}

## 버전별 명령어 비교

{% tabs replication_command %}

{% tab replication_command MySQL 5.7 %}
&lt;div&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th width=&quot;110px&quot;&gt;MySQL 5.7&lt;/th&gt;
      &lt;th&gt;리플리케이션 명령어&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;채널 설정&lt;/td&gt;
      &lt;td style=&quot;font-size:0.8em;line-height:130%;&quot;&gt;CHANGE &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt; TO &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_HOST=&apos;마스터IP&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_PORT=포트번호, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_USER=&apos;생성한 리플리케이션 계정명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_PASSWORD=&apos;패스워드&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_LOG_FILE=&apos;위에서 확인된 File명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;채널 이름&apos;;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 시작&lt;/td&gt;&lt;td&gt;START &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 중지&lt;/td&gt;&lt;td&gt;STOP &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 상태 확인&lt;/td&gt;&lt;td&gt;SHOW &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; STATUS FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 정보 삭제&lt;/td&gt;&lt;td&gt;RESET &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; ALL FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;  
&lt;/div&gt;
{% endtab %}

{% tab replication_command MySQL 8.0 ~ 8.0.22 %}
&lt;div&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th width=&quot;110px&quot;&gt;MySQL 5.7&lt;/th&gt;
      &lt;th&gt;리플리케이션 명령어&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;채널 설정&lt;/td&gt;
      &lt;td style=&quot;font-size:0.8em;line-height:130%;&quot;&gt;CHANGE &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt; TO &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_HOST=&apos;마스터IP&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_PORT=포트번호, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_USER=&apos;생성한 리플리케이션 계정명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_PASSWORD=&apos;패스워드&apos;, GET_&lt;span style=&quot;font-weight:bolder&quot;&gt;Master&lt;/span&gt;_PUBLIC_KEY=1, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_LOG_FILE=&apos;위에서 확인된 File명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;MASTER&lt;/span&gt;_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;채널 이름&apos;;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 시작&lt;/td&gt;&lt;td&gt;START &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 중지&lt;/td&gt;&lt;td&gt;STOP &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 상태 확인&lt;/td&gt;&lt;td&gt;SHOW &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; STATUS FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 정보 삭제&lt;/td&gt;&lt;td&gt;RESET &lt;span style=&quot;font-weight:bolder&quot;&gt;SLAVE&lt;/span&gt; ALL FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;  
&lt;/div&gt;
{% endtab %}

{% tab replication_command MySQL 8.0.23 ~ %}
&lt;div&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th width=&quot;110px&quot;&gt;MySQL 8.0&lt;/th&gt;
      &lt;th&gt;리플리케이션 명령어&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;
      &lt;td&gt;채널 설정&lt;/td&gt;
      &lt;td style=&quot;font-size:0.8em;line-height:130%;&quot;&gt;CHANGE &lt;span style=&quot;font-weight:bolder&quot;&gt;REPLICATION SOURCE&lt;/span&gt; TO &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_HOST=&apos;마스터IP&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_PORT=포트번호, &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_USER=&apos;생성한 리플리케이션 계정명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_PASSWORD=&apos;패스워드&apos;, GET_&lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_PUBLIC_KEY=1, &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_LOG_FILE=&apos;위에서 확인된 File명&apos;, &lt;span style=&quot;font-weight:bolder&quot;&gt;SOURCE&lt;/span&gt;_LOG_POS=위에서 확인된 Position 번호 FOR CHANNEL &apos;ch_testdb1&apos;;&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 시작&lt;/td&gt;&lt;td&gt;START &lt;span style=&quot;font-weight:bolder&quot;&gt;REPLICA&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 중지&lt;/td&gt;&lt;td&gt;STOP &lt;span style=&quot;font-weight:bolder&quot;&gt;REPLICA&lt;/span&gt; FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 상태 확인&lt;/td&gt;&lt;td&gt;SHOW &lt;span style=&quot;font-weight:bolder&quot;&gt;REPLICA&lt;/span&gt; STATUS FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;채널 정보 삭제&lt;/td&gt;&lt;td&gt;RESET &lt;span style=&quot;font-weight:bolder&quot;&gt;REPLICA&lt;/span&gt; ALL FOR CHANNEL &quot;채널이름&quot;;&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;  
&lt;/div&gt;
{% endtab %}

{% endtabs %}


## 참고 URL
1. MySQL 5.7 Multi-Source Replication 가이드
	- &lt;a href=&quot;https://dev.mysql.com/doc/refman/5.7/en/replication-multi-source.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://dev.mysql.com/doc/refman/5.7/en/replication-multi-source.html&lt;/a&gt;

1. MySQL 8.0 Multi-Source Replication 가이드
	- &lt;a href=&quot;https://dev.mysql.com/doc/refman/8.0/en/replication-multi-source.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://dev.mysql.com/doc/refman/8.0/en/replication-multi-source.html&lt;/a&gt;  </description>
            <pubDate>Wed, 05 Apr 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/database/ncloud-database-mysql-multi-source-replication.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/database/ncloud-database-mysql-multi-source-replication.html</guid>
            
            <category>database</category>
            
            <category>backup</category>
            
            <category>mysql</category>
            
            
        </item>
        
        <item>
            <title>Video Player 구현하기 샘플 예제</title>
            <description>## Video Player 상품 서비스 종료

{% include warning.html title=&quot;서비스 종료&quot; content=&quot;
그 동안 네이버 클라우드에서 제공해왔던 Video Player 서비스가 2023년 7월 31일부로 서비스를 종료하게 되었습니다. 
이후로는 이 보다 업그레이드 된 [**Video Player Enhancement**] 상품을 이용해주시면 감사하겠습니다.
&quot; %}

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/media/ncloud-media-video-player-enhancement-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; Video Player Enhancement 사용 가이드&lt;/a&gt;
&quot; %}

## 개요
네이버 클라우드 비디오 플레이어는 최신의 네이버 미디어 플레이어를 기반으로 개발된 클라우드 전용 상품으로 
네이버 동영상 서비스에 적용되어 수 많은 성공사례를 가지고 있는 최신의 네이버 플레이어를 손쉽고 빠르게 고객의 미디어 서비스에 적용할 수 있습니다.

## 플레이어 생성하기
우선은 네이버 클라우드 콘솔에서 js 파일로 구성된 플레이어를 생성하는 과정부터 살펴보겠습니다.

[네이버 클라우드 콘솔] - [Video Player]에서 [플레이어 생성] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncp_media_video_player_01.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

플레이어 이름, 유-무료 상품(현재는 무료만 선택 가능), 플레이어 사이즈, 버전, 플레이어가 저장될 Object Storage 위치 등을 선택합니다.

{% include image.html file=&quot;media/ncp_media_video_player_02.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

재생 속도 조절 등의 기능을 설정하고, 우클릭 메뉴 바로가기를 추가할 수도 있습니다.

{% include image.html file=&quot;media/ncp_media_video_player_03.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

자동 재성이나 대역폭 등의 재생 관련 설정을 선택합니다.

{% include image.html file=&quot;media/ncp_media_video_player_04.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

마지막으로 현재까지 선택한 설정을 확인하고, 플레이어 미리보기를 한 후에 [플레이어 생성] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncp_media_video_player_05.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

생성된 플레이어 js 파일의 경로를 확인할 수 있습니다.

{% include image.html file=&quot;media/ncp_media_video_player_06.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}

js 파일이 저장된 Object Storage에서도 확인 가능합니다.

{% include image.html file=&quot;media/ncp_media_video_player_07.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}


## 플레이어 구현하기
생성된 플레이어는 자바스크립트 js 파일이므로 html 파일을 만들어서 플레이어를 구현해야 합니다.

### 플레이어 JavaScript 소스 예시

``` javascript
  var player = new ncplayer(&apos;divVideoPlayer&apos;, {
    playlist: &quot;http://example.com/myVideo.mp4&quot;
  });

  player.play();
```
&lt;br /&gt;
### 플레이어 html 소스 예시
아래 예시에서는  컨트롤러 표시, 자동 재생 안함, 음소거, 가로 크기 1024로 옵션을 설정했습니다. 상세한 옵션을 아래쪽에서 다시 살펴보겠습니다.

``` html
&lt;!doctype html&gt;
&lt;html lang=&quot;kr&quot;&gt;
  &lt;head&gt;
    &lt;meta charset=&quot;utf-8&quot;&gt;
    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1&quot;&gt;
    &lt;title&gt;Video Player Sample&lt;/title&gt;

    &lt;script src=&quot;https://kr.object.ncloudstorage.com/플레이어 파일명.js&quot;&gt;&lt;/script&gt;
  &lt;/head&gt;

  &lt;body&gt;

    &lt;div style=&quot;text-align:center&quot;&gt;
      &lt;div id=&quot;divVideoPlayer&quot; name=&quot;divVideoPlayer&quot;&gt;&lt;/div&gt;
    &lt;/div&gt;

     &lt;script&gt;

      var player = new ncplayer(&apos;divVideoPlayer&apos;, {
        controls: true,
        autostart: false,
        mute: true,
        width: 1024,
        playlist: [
        {
          file: &apos;https://kr.object.ncloudstorage.com/재생할 동영상 파일명.mp4&apos;,
        },
        ],
      });

      player.play();

     &lt;/script&gt;

   &lt;/body&gt;
&lt;/html&gt;
```

## 플레이어 구현 예시
위 html 소스대로 플레이어를 구현해서 웹브라우져에서 확인해보면 다음과 같이 나타납니다.

{% include image.html file=&quot;media/ncp_media_video_player_08.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud Video Player 구현하기 샘플 예제&quot; caption=&quot;&quot; %}


## 플레이어 상세 옵션
플레이어 상세 옵션을 간단하게 정리해보겠습니다. 좀 더 자세한 설명은 아래 링크에 있는 네이버 클라우드 가이드 문서를 참고하시면 됩니다.

``` javascript

var player = new ncplayer(&apos;divVideoPlayer&apos;, {
  controls: true,
  autostart: false,
  mute: true,
  width: 1024,
  playlist: [
    { file: &apos;https://CDN도메인/example_video_01.mp4&apos; },
    { file: &apos;https://CDN도메인/example_video_02.mp4&apos; },
    { file: &apos;https://CDN도메인/example_video_03.mp4/index.m3u8&apos; }
  ],
  });

```

| PROPERTY | TYPE | DESCRIPTION | DEFAULT |
| :---: | :---: | :---: | :---: |
| playlist | string/array | 재생하고자 하는 video 정보 (단일 경로 또는, 여러 경로를 전달) | - |
| autostart | boolean | player 시작 시, video를 자동으로 재생 (브라우저의 자동재생 정책을 따름) | false |
| mute | boolean | player 시작 시, video를 자동으로 음소거 상태로 설정 | false |
| controls | boolean | player 제어를 위한 컨트롤의 표시 여부 결정 | true |
| autoPause | boolean | 창이 전환되거나 최소화되었을 때, 자동으로 player를 정지 상태로 만듦 | false |
| aspectRatio | string | player의 가로X세로 비율 지정, &quot;width:height&quot; 형식으로 전달해야 합니다. | - |
| width | number | player의 가로 사이즈 고정 | - |
| height | number | player의 세로 사이즈 고정 | - |
| playbackRate | boolean | video 의 재생속도 조절, 1.0보다 낮으면 느려지고, 1.0보다 높으면 빠르게 재생 | 1.0 |
| repeat | boolean | video의 반복 재생 여부 결정 | false |
| about | object | 마우스 우클릭 시 표시되는 바로가기 정보 수정 | false |


## 참고 URL
1. Video Player 사용 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/videoplayer-videoplayerguide&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/videoplayer-videoplayerguide&lt;/a&gt;

2. Video Player Demo 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/videoplayer-videoplayerdemo&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/videoplayer-videoplayerdemo&lt;/a&gt;</description>
            <pubDate>Fri, 24 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/media/ncloud_media_video_player_sample.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/media/ncloud_media_video_player_sample.html</guid>
            
            <category>media</category>
            
            <category>object_storage</category>
            
            
        </item>
        
        <item>
            <title>Ncloud Video Player Enhancement 사용 가이드</title>
            <description>## 개요
Ncloud(네이버 클라우드) [**Video Player Enhancement**]는 웹/앱에서 비디오 또는 오디오와 같은 미디어 재생을 위한 서비스로, Live Station, VOD Station과 연동을 통해, 다양한 디바이스 환경에서 시청자에게 최고 품질의 경험을 제공합니다.

## 특징
Video Player Enhancement 서비스의 특징은 다음과 같습니다.

- **Live Station** &amp; **VOD Station**과 손쉽게 연동 가능
- **HTML5 표준** : HTML5 표준에 맞게 제작된 SaaS 기반의 서비스로 별도의 APP 설치 없이 모든 디바이스 및 OS Browser에서 재생 가능
- **사용자가 직접 커스터마이징** : Console 에서 UI &amp; UX 패널 제공하여 고객이 직접 커스터마이징을 할 수 있음 (유료 버전)
- **개발 시간 단축** : 스크립트 코드 예제를 통해 플레이어를 웹페이지 내 손쉽게 임베디드가 가능하며 완성된 코드 제공을 통해 개발 시간을 단축 시킬 수 있음

## 제공 기능
VOD Station이 제공하는 기능은 다음과 같은 것들이 있습니다.

- 다양한 재생 옵션 설정을 위한 기능
- **콘텐츠 보안**: MultiDRM (FairPlay, Widevine, PlayReady) 및 Visible Watermark 기능 제공
- **모바일 SDK**: Native SDK 제공 (AOS - Kotlin, iOS - Swift)
- **커스터마이징**: 콘솔에 UI/UX 설정을 위한 기능 제공
- **CMAF LL-HLS** 지원

## 사전 준비 사항
[**Video Player Enhancement**]을 테스트 하기 위해 [**VOD Station**]에 스트리밍 가능한 영상 파일을 미리 등록해 두겠습니다.  

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-34.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- [**VOD Station**] 사용 방법은 아래 가이드 문서에서 확인할 수 있습니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/media/ncloud-media-vod-station-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; VOD Station 생성 가이드&lt;/a&gt;
&quot; %}

## 서비스 위치
Ncloud Console에서 [**Video Player Enhancement**] 서비스 위치는 아래와 같이 [**Media**] - [**Video Player Enhancement**]에 있습니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

## 서비스 신청
[**Video Player Enhancement**] 서비스를 사용하기 위해서는 먼저 [서비스 신청] 버튼을 클릭해 서비스를 신청해야 합니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

### 서비스 선택
[**Video Player Enhancement**] 서비스는 무료 서비스인 Basic 버전과 유료 서비스인 Standard 버전이 있습니다. 각각이 제공하는 기능이 다르므로 잘 살펴보고 선택하시면 됩니다.

{% include warning.html title=&quot;주의&quot; content=&quot;서비스를 유료로 신청 또는 무료에서 유료로 전환 후에는 다시 무료로 전환이 불가합니다.&quot; %}

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-03.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}


- 서비스 신청이 끝났으면 플레이어를 생성해야 합니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-04.png&quot; width=&quot;485&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

## 플레이어 생성
플레이어 생성 화면에서는 현재 계약된 정보가 표시되며, 무료인 경우 [**유료 전환**] 버튼도 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-05.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

### 기본 설정
기본 설정에서는 플레이어를 사용할 [**사이트 도메인**] 또는 [**앱 패키지 ID**]를 입력해야 합니다.

{% include callout-v2.html type=&quot;warning&quot; level=&quot;2&quot; content=&quot;
&amp;#8259; 사이트 도메인은 플레이어가 노출될 사이트 도메인에 대한 유효성을 확인하기 위함입니다.&lt;br /&gt;
&amp;#8259; 등록된 도메인이 아닐 경우 플레이어가 동작하지 않습니다.&lt;br /&gt;
&amp;#8259; 사이트 도메인은 5개까지 입력 가능합니다.&lt;br /&gt;
&amp;#8259; 5개 이상 입력이 필요할 경우 네이버 클라우드 영업팀에 별도 문의 부탁 드립니다.
&quot; %}

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-06.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

## 플레이어 옵션
플레이어가 생성되면 플레이어 옵션 미리보기를 할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-07.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

### 미리보기
미리 보기 화면에서 플레이어의 기본 스크립트를 확인할 수 있는데 [복사] 버튼을 클릭해서 스크립트를 가져옵니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-08.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}


## 플레이어 스크립트 기본 템플릿
위에서 복사해 온 플레이어 스크립트는 기본적으로 다음과 같은 형태로 구성되어 있습니다.

``` html
&lt;script type=&quot;text/javascript&quot; src=&quot;https://player.vpe.naverncp.com/ncplayer.js?access_key={Access Key}&quot;&gt;&lt;/script&gt;

&lt;div id=&quot;video&quot;&gt;&lt;/div&gt;

&lt;script&gt;
  let player = new ncplayer(&apos;video&apos;,{		
    playlist:[
      {
       file:&quot;{재생 파일 URL}&quot;,
        poster:&quot;{썸네일 이미지 URL}&quot;    
      }		
    ],		
  });
&lt;/script&gt;
```

### 플레이어 샘플 예제
[**VOD Station**]에 등록한 스트리밍 파일을 이용한 샘플 스크립트 예제는 다음과 같습니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/media/ncloud-media-vod-station-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; VOD Station 생성 가이드&lt;/a&gt;
&quot; %}

``` html
&lt;script type=&quot;text/javascript&quot; src=&quot;https://player.vpe.naverncp.com/ncplayer.js?access_key=1b***d7&quot;&gt;&lt;/script&gt;

&lt;div id=&quot;video&quot;&gt;&lt;/div&gt;

&lt;script&gt;
  let player = new ncplayer(&apos;video&apos;,{
    autostart: true,
    muted: true,			
    aspectRatio: &apos;16/9&apos;,
    repeat: true,
    playlist:[
      {
        file:&quot;https://fv***47.cdn.ntruss.com/hls/OS***E8_/test-category/VOD-Station_***_30fps.mp4/index.m3u8&quot;,
        poster:&quot;https://kr***08.cdn.ntruss.com/test-category/VOD-Station_02.jpg&quot;,				
      }			
    ],		
  });
&lt;/script&gt;
```

## 플레이어 실행 화면
위 스크립트로 생성한 플레이어를 실행하면 아래와 같이 영상이 플레이 되는 것을 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-09.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

{% include warning.html title=&quot;음소거 옵션&quot; content=&quot;autostart: true 상태에서 muted 옵션과 관계없이 무조건 음소거 상태로 나타나는 경우가 많은데, 이것은 웹브라우저의 자체 정책으로 인해 영상의 자동재생이 차단되는 것을 막기 위해 음소거 상태로 플레이됩니다. &quot; %}

## 플레이어 상세 옵션

&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;프로퍼티&lt;/th&gt;
      &lt;th&gt;유형&lt;/th&gt;
      &lt;th&gt;설명&lt;/th&gt;
      &lt;th&gt;기본값&lt;/th&gt;
      &lt;th&gt;옵션값&lt;/th&gt;
      &lt;th&gt;라이선스&lt;/th&gt;
      &lt;th&gt;필수여부&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;*playlist&lt;/td&gt;&lt;td&gt;array&lt;/td&gt;&lt;td&gt;플레이리스트&lt;/td&gt;&lt;td&gt;없음&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;O&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;autostart&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;자동재생여부&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;muted&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;음소거&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;keyboardShortcut&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;키보드 단축키&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;controls&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;컨트롤바 사용 여부&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;ui&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;UI 설정&lt;/td&gt;&lt;td&gt;all&lt;/td&gt;&lt;td&gt;all, mobile , pc&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;**controlBtn&lt;/td&gt;&lt;td&gt;array&lt;/td&gt;&lt;td&gt;컨트롤바 버튼 on/off&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;progressBarColor&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;컨트롤바 컬러&lt;/td&gt;&lt;td&gt;#4299f5&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;controlActiveTime&lt;/td&gt;&lt;td&gt;number&lt;/td&gt;&lt;td&gt;컨트롤바 활성 시간(ms)&lt;/td&gt;&lt;td&gt;3000&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;startMutedInfoNotVisible&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;음소거 알림&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;aspectRatio&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;화면비&lt;/td&gt;&lt;td&gt;16/9&lt;/td&gt;&lt;td&gt;16/9 , 4/3 , 1/1 , 9/16 , 21/9&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;objectFit&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;영상 화면 맞춤&lt;/td&gt;&lt;td&gt;contain&lt;/td&gt;&lt;td&gt;contain , cover , fill&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;playRateSetting&lt;/td&gt;&lt;td&gt;array&lt;/td&gt;&lt;td&gt;배속 선택 옵션&lt;/td&gt;&lt;td&gt;[0.5,0.75,1,1.5,2]&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;seekingPreview&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;영상 구간 이동 미리보기&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;autoPause&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;탭 비활성화 시 자동멈춤&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;repeat&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;영상 반복&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;touchGestures&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;터치 제스처&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;descriptionNotVisible&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;영상 메타 데이터&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;lang&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;UI 언어설정&lt;/td&gt;&lt;td&gt;auto&lt;/td&gt;&lt;td&gt;auto , ko , en , ja , zh&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;lowLatencyMode&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;CMAF LL-HLS&lt;/td&gt;&lt;td&gt;FALSE&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

### \*playlist 상세 속성

&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;프로퍼티&lt;/th&gt;
      &lt;th&gt;유형&lt;/th&gt;
      &lt;th&gt;설명&lt;/th&gt;
      &lt;th&gt;기본값&lt;/th&gt;
      &lt;th&gt;옵션값&lt;/th&gt;
      &lt;th&gt;라이선스&lt;/th&gt;
      &lt;th&gt;필수여부&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;file&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;재생하고자 하는 video 정보&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;sources&lt;/td&gt;&lt;td&gt;array&lt;/td&gt;
      &lt;td&gt;
        video에 여러가지 해상도를 제공하는 경우 사용
        &lt;br /&gt;&lt;br /&gt;
        &lt;table class=&quot;simple_table&quot;&gt;
          &lt;tbody&gt;
            &lt;tr&gt;&lt;td&gt;file&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;해상도별 video 파일 경로&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;label&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;해상도 조절 컨트롤에 표시되는 텍스트&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;default&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;기본 해상도로 적용&lt;/td&gt;&lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt; 
      &lt;/td&gt;
      &lt;td&gt;&lt;/td&gt;&lt;td&gt;file로 대체 가능&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;poster&lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;video 재생 전 표시할 이미지&lt;/td&gt;&lt;td&gt;없음&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;무료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;
      &lt;td&gt;description&lt;/td&gt;&lt;td&gt;array&lt;/td&gt;
      &lt;td&gt;
        Player 상단에 표시할 메타데이터
        &lt;br /&gt;&lt;br /&gt;
        &lt;table class=&quot;simple_table&quot;&gt;          
          &lt;tbody&gt;
            &lt;tr&gt;&lt;td&gt;title &lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;제목 표시&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;created_at &lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;날짜 표시&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;profile_name &lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;채널명 or 업로더 닉네임&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;profile_image &lt;/td&gt;&lt;td&gt;string&lt;/td&gt;&lt;td&gt;채널이미지 or 업로더 프로필 이미지&lt;/td&gt;&lt;/tr&gt;
            &lt;tr&gt;&lt;td&gt;callback &lt;/td&gt;&lt;td&gt;function&lt;/td&gt;&lt;td&gt;메타데이터 클릭시 발생시킬 이벤트&lt;/td&gt;&lt;/tr&gt;
          &lt;/tbody&gt;
        &lt;/table&gt; 
      &lt;/td&gt;
      &lt;td&gt;없음&lt;/td&gt;&lt;td&gt;&lt;/td&gt;&lt;td style=&quot;color:#FF0000&quot;&gt;유료&lt;/td&gt;&lt;td&gt;X&lt;/td&gt;&lt;/tr&gt;   
  &lt;/tbody&gt;
&lt;/table&gt;

### \*\*controlBtn 상세 속성
&lt;div class=&quot;col-sm-12&quot;&gt;
&lt;div class=&quot;col-sm-6&quot;&gt;
&lt;table class=&quot;simple_table&quot;&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th&gt;프로퍼티&lt;/th&gt;
      &lt;th&gt;유형&lt;/th&gt;
      &lt;th&gt;설명&lt;/th&gt;
      &lt;th&gt;기본값&lt;/th&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr&gt;&lt;td&gt;play&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;플레이버튼&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;fullscreen&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;전체화면 전환&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;volume&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;볼륨컨트롤&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;times&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;시간정보 UI&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;pictureInPicture&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;미니플레이어&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;setting&lt;/td&gt;&lt;td&gt;boolean&lt;/td&gt;&lt;td&gt;세팅 버튼&lt;/td&gt;&lt;td&gt;TRUE&lt;/td&gt;&lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;    
&lt;/div&gt;
&lt;/div&gt;

## 통계
[**Player Statistics**] 화면에서는 플레이어 사용량 등의 통계를 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-10.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-11.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}


## 참고 URL
1. Ncloud Video Player Enhancement 개요
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/videoplayerenhancement-overview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/videoplayerenhancement-overview&lt;/a&gt;

2. Ncloud Video Player Enhancement 사용 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/videoplayerenhancement-user-guide&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/videoplayerenhancement-user-guide&lt;/a&gt;  
</description>
            <pubDate>Wed, 22 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/media/ncloud-media-video-player-enhancement-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/media/ncloud-media-video-player-enhancement-guide.html</guid>
            
            <category>media</category>
            
            <category>object_storage</category>
            
            <category>cdn</category>
            
            
        </item>
        
        <item>
            <title>VPC 환경에서 NAT Gateway 설정하기</title>
            <description>## 개요
NAT Gateway는 비공인 IP를 가진 다수의 서버들이 대표 공인 IP를 이용해 외부와 통신을 할 수 있도록 도와주는 네트워킹 서비스입니다.  
그리고, 일반적으로 서버에 직접 공인 IP를 부여하는 것과 달리 외부에서 서버로의 직접 접근은 허용하지 않기 때문에 높은 수준의 보안을 유지할 수 있는 것이 특징입니다.  
여기서는 VPC 환경에서 NAT Gateway를 어떻게 구성하고, NAT Gateway를 적용하기 전과 후의 외부와 통신 상태에 대해 확인해보도록 하겠습니다.

## 생성개수 제한
우선 VPC는 리전별로 계정당 3개씩 생성 가능하고, **NAT Gateway는 각 VPC별로 Zone당 1개씩 생성 가능**합니다.  
현재 한국 리전에는 KR-1, KR-2 이렇게 2개의 Zone이 있으므로 한국 리전 기준으로 VPC당 최대 2개, **계정당 최대 6개의 NAT Gateway를 생성**할 수 있습니다.

## VPC 서비스 위치
[**VPC**] 서비스는 [**Console**] - [**Networking**]에 위치해 있습니다.  

그리고, 아래 스샷에서 확인할 수 있듯이 [**VPC**]에는 [**VPC**], [**Subnet**], [**Network ACL**], [**NAT Gateway**], [**Route Table**], [**VPC Peering**], [**Virtual Private Gateway**] 등의 하부 서비스 메뉴가 있습니다.

{% include image.html file=&quot;networking/ncloud-networking-natgw-routetb-00.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## VPC 생성
먼저 VPC를 생성합니다. IP주소 범위는 10.0.0.0/16으로 정하겠습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_01.jpg&quot; width=&quot;700&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## Subnet 생성
NAT Gateway 동작 테스트를 위해 Public, Private 이렇게 2가지 Subnet을 생성하겠습니다.

### Public Subnet 생성
Public Subnet의 IP 범위는 **10.0.0.0/24**로 설정하겠습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_02.jpg&quot; width=&quot;700&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Private Subnet 생성
Private Subnet의 IP 범위는 **10.0.0.1/24**로 설정하겠습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_03.jpg&quot; width=&quot;700&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## ACG 설정
테스트를 위한 ACG (Access Control Group)를 생성하고 설정합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_04.jpg&quot; width=&quot;700&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Inbound 설정
Inbound 규칙에는 Public, Private Subnet과 SSH 접속을 위한 로컬PC IP를 허용하고, Ping 테스트를 위한 ICMP도 허용합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_05.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Outbound 설정
Outbound 규칙은 TCP, UDP, ICMP 모두 전체 허용으로 추가합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_06.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## 서버 생성
테스트를 위해 Public, Private 각각의 Subnet에 1대씩 서버를 설정하고 Public 서버에는 공인 IP도 할당합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_07.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Public -&gt; Private 서버 접속 확인
Public Subnet에 있는 서버에서 Private Subnet에 있는 서버로 통신이 가능한 것을 확인할 수 있습니다.  
다음 단계에서 Private 서버로 SSH로 접속하기 위한 사전 확인 단계입니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_08.jpg&quot; width=&quot;670&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Private 서버 외부 접속 여부 확인
Public 서버에서 Private 서버로 SSH로 접속한 후에 Private 서버에서 외부로 통신이 되는 것을 확인해보면 불가능한 것을 확인할 수 있습니다.  
이후 단계에서 NAT Gateway를 설정하고 Private 서버에서 외부와 통신이 가능한지 확인해보겠습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_09.jpg&quot; width=&quot;670&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## Route Table 설정 확인
NAT Gateway를 위한 Route Table 설정을 추가하기 전에 현재 상태의 Route Table 설정을 확인해보겠습니다.

### Public Subnet의 Route Table 설정 확인
위에서 Public Subnet의 서버와 Private Subnet의 서버가 통신이 가능했던 것은 VPC와 Subnet이 생성될때 Route Table이 생성되면서 VPC 내부 통신을 위한 규칙 (10.0.0.0/16 LOCAL)이 기본으로 설정되기 때문입니다.  
그리고 Public의 경우 외부 통신을 위한 INTERNET GATEWAY가 추가되어 있는 것을 확인할 수 있습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_10.jpg&quot; width=&quot;780&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Private Subnet의 Route Table 설정 확인
반면에 Private의 경우는 VPC 내부 통신을 위한 LOCAL만 설정된 것을 확인 할 수 있습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_11.jpg&quot; width=&quot;780&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

Route Table 설정 화면에 들어가도 Target Type에 LOCAL만 선택할 수 있는 것을 확인할 수 있습니다.
{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_14.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## NAT Gateway 생성
[**NAT Gateway**]는 별도의 메뉴가 있지 않고, [**Networking**] - [**VPC**] 서비스 내에 하부 서비스로 존재합니다. 그러면 이제 [**NAT Gateway 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_15.png&quot; width=&quot;845&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

이름을 입력하고 VPC와 Zone을 선택하고 NAT Gateway를 생성합니다. 그리고 마지막으로 Route Table에 NATGW 설정을 추가해야 완료되는데, 관련 설정은 아래에서 확인 가능합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_16.jpg&quot; width=&quot;650&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

### Route Table 설정
앞에서 LOCAL 항목만 존재했던 Private Subnet의 Route Table 설정 화면에 가보면 Target Type에 NATGW가 추가된 것을 확인할 수 있습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_18.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

목적지(Destination)에 0.0.0.0/0을 입력하고, Target Type을 NATGW를 선택하고 생성 버튼을 클릭합니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_19.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}

## 외부 접속 테스트
마지막으로 다시 한번 Private 서버에서 외부 통신이 가능한지 ping 테스트를 해보면, 아래 화면과 같이 정상적으로 통신이 되는 것을 확인할 수 있습니다.

{% include image.html file=&quot;networking/ncp_networking_natgw_routetb_20.jpg&quot; width=&quot;670&quot; alt=&quot;Ncloud VPC 환경에서 NAT Gateway 설정하기 가이드&quot; caption=&quot;&quot; %}


## 고려사항
{% include warning.html title=&quot;요금&quot; content=&quot;NAT Gateway는 사용하지 않고 생성만 해두어도 요금이 부과됩니다. (데이터 처리요금 별도)&quot; %}
  
생성 후 보유 시간에 따라 요금이 부과되는데 1개당 56원/시간 입니다. 그러므로 1달간 보유하고만 있다고 가정할 때 비용을 계산해보면 
**24시간 * 30일 * 56원 = 40,320원** 그러므로 사용하지 않는 NAT Gatway는 반드시 삭제하기를 추천드립니다.



## 참고 URL
1. NAT Gateway 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/networking-vpc-vpcdetailenatgw&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/networking-vpc-vpcdetailenatgw&lt;/a&gt;

2. NAT Gateway 특징과 비교
	- &lt;a href=&quot;https://m.blog.naver.com/n_cloudplatform/221173116642&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://m.blog.naver.com/n_cloudplatform/221173116642&lt;/a&gt;
</description>
            <pubDate>Tue, 21 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/networking/ncloud_networking_natgw_routetb.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/networking/ncloud_networking_natgw_routetb.html</guid>
            
            <category>vpc</category>
            
            <category>natgateway</category>
            
            <category>routetable</category>
            
            
        </item>
        
        <item>
            <title>Ncloud VOD Station 생성 가이드</title>
            <description>## 개요
Ncloud(네이버 클라우드) VOD Station은 저장된 영상을 다양한 디바이스에서 시청할 수 있도록 변환하는 **인코딩 기능**과 동영상 파일을 패킷타이징하여 네트워크를 효율적으로 사용할 수 있는 **스트리밍 기능**을 제공하는 VOD 전용 서비스입니다.

## 특징
VOD Station 서비스의 특징은 다음과 같습니다.

- **하나의 서비스로 인코딩과 송출 가능**: 여러 가지 VOD 서비스를 고민할 필요 없이 VOD Station 하나로 인코딩과 스트리밍이 가능합니다.
- **영상의 길이와 해상도에 따른 합리적 과금**: 영상의 길이와 코딩 후 변환된 해상도에 따라 요금이 책정되므로 합리적인 비용으로 서비스를 이용할 수 있습니다.
- **고품질의 안정적인 스트리밍**: Progressive Download 방식이 아닌 영상을 패킷타이징하여 송출하는 방식이므로 안정적인 품질로 스트리밍을 제공할 수 있습니다.
- **간편한 CDN 생성**: CDN(Content Delivery Network) 선택 옵션을 통해 VOD 스트리밍 서비스에 최적화된 CDN을 쉽게 생성할 수 있습니다.
- **서비스 간의 유연한 연동**: 인코딩, 보안, 비디오 플레이어와의 연동 등 VOD 서비스에 필요한 유연한 연동을 제공합니다.

## 제공 기능
VOD Station이 제공하는 기능은 다음과 같은 것들이 있습니다.

- 인코딩
- On-the-fly 패킷타이징
- 템플릿 인코딩 설정
- DRM
- 썸네일 추출저장
- 최적의 CDN 생성(선택 옵션)

## 사전 준비 사항
VOD Station을 이용하기 위해서는 반드시 필요한 것이 2가지 있는데 다음과 같습니다.

- **Object Storage**: 원본 미디어 파일과 변환된 영상 파일을 저장하기 위한 공간
- **CDN**: 영상 배포를 위한 콘텐츠 스트리밍 플랫폼

## 서비스 위치
Ncloud Console에서 [**VOD Station**] 서비스 위치는 아래와 같이 [**Media**] - [**VOD Station**]에 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

## Object Storage Bucket 생성
VOD Station을 좀 더 편하게 생성하려면 VOD Station 생성 전에 `먼저 Object Storage에 Bucket을 생성하는 것이 좋습니다`.

### Bucket 생성
예를 들어 아래와 같이 용도별 Bucket 3개를 생성합니다.

- **vod-station-input**: 동영상 원본 파일을 저장할 Bucket
- **vod-station-output**: 인코딩이 완료된 동영상을 저장할 Bucket
- **vod-station-thumbnail**: 동영상에서 추출한 썸네일 이미지를 저장할 Bucket

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-02.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- 아래와 같이 Bucket 3개를 생성했습니다.
{% include image.html file=&quot;media/ncloud-media-vod-station-guide-03.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


### 파일 업로드
Bucket 생성 후에 [**vod-station-input**] Bucket에 테스트할 동영상 파일을 업로드 합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-16.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

## 이용 신청
다음으로 [**VOD Station**] - [**Subscription**]에서 **이용 신청**을 합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-04.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

이용 신청이 끝나면 [**Category**]를 생성하라는 안내 팝업이 나타납니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-05.png&quot; width=&quot;485&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

## 카테고리 생성
카테고리 생성 화면은 다음과 같은데 아래쪽에서 차례대로 살펴보겠습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-06.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

### 인코딩 설정
인코딩 설정 방법은 미리 지정된 템플릿을 이용해서 간편하게 설정할 수도 있고, 원하는 옵션으로 직접 설정할 수도 있는데, 여기서는 [**템플릿 간편 설정**]으로 진행하겠습니다.

- **템플릿 간편 설정**  
템플릿 간편 설정에는 [**실속형 콘텐츠**], [**비즈니스 콘텐츠**], [**초고화질 콘텐츠**] 등의 3가지 옵션이 있는데, 아래쪽에서 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-07.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **인코딩 템플릿**  
인코딩 템플릿의 상세 옵션을 확인하려면 [**템플릿 간편 설정**] 옆에 있는 &lt;i class=&quot;fa-regular fa-circle-question&quot;&gt;&lt;/i&gt; 아이콘을 클릭하면 아래와 같이 자세히 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-08.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


- **직접 설정**  
템플릿을 사용하지 않고 상세 옵션을 직접 설정하려면 [**설정함**] 옵션을 선택하고 [**추가**] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-09.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **상세 옵션**  
인코딩 옵션을 직접 설정하는 경우 아래와 같이 **17개의 Video 옵션**과 **4개의 Audio 옵션** 중에서 최대 5개를 선택할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-10.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


### 파일 경로 설정
가능하면 썸네일은 설정함을 선택하고, [**+ 선택**] 버튼을 클릭해 **아웃풋 파일 경로**와 **썸네일 아웃풋 파일 경로**를 설정하도록 하겠습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-11.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **아웃풋 파일 경로 설정**  
파일 경로 설정 팝업에서 미리 생성해 둔 [**vod-station-output**] Bucket을 선택합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-12.png&quot; width=&quot;698&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **썸네일 아웃풋 파일 경로 설정**
마찬가지로 썸네일 경로 설정 팝업에서 미리 생성해 둔 [**vod-station-thumbnail**] Bucket을 선택합니다.
{% include image.html file=&quot;media/ncloud-media-vod-station-guide-13.png&quot; width=&quot;698&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


### 고급 설정
고급 설정에서는 [**재생구간 설정**]과 [**워터마크 이미지**]를 추가할 수 있는데, 서비스 상황에 맞에 선택하시면 되고, 여기서는 설정하지 않고 완료하겠습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-14.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

### 최종 확인
위에서 설정한 값들을 최종 확인한 후에 이상이 없으면 [**생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-15.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


## 파일 인코딩
이제 생성된 카테고리 리스트에서 [**신규파일 인코딩**] 버튼을 클릭해 인코딩할 파일을 등록합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-17.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **파일 경로 선택**  
인풋 파일 경로는 [**오브젝트 스토리지**]와 별도의 [**HTTP 다운로드 URL**]을 선택할 수 있는데 여기서는 앞에서 생성한 오브젝트 스토리지를 선택하겠습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-18.png&quot; width=&quot;685&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **파일 선택**  
오브젝트 스토리지 버킷에서 앞에서 업로드한 인코딩할 파일을 선택합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-19.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **인코딩 시작**  
선택한 파일이 맞는지 최종 확인하고 이상이 없으면 [**확인**] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-20.png&quot; width=&quot;685&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

### 인코딩 상태 확인
위에서 선택한 파일의 인코딩 상태 확인은 [**VOD Station**] - [**Status**]에서 확인 가능합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-21.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

### 썸네일 파일 확인
썸네일 파일은 앞에서 생성하고 선택했던 오브젝트 스토리지 [**vod-station-thumbnail**] 버킷에서 아래와 같이 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-33.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

## 채널 생성
인코딩이 끝났으면, 이제 스트리밍을 위한 채널을 생성해야 합니다.  
[**VOD Station**] - [**Channel**]에서 [**채널 생성**] 버튼을 클릭해 VOD Streaming을 구성하기 위한 새로운 채널을 생성합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-22.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

### 채널 생성 구성 항목
채널 생성 시에 입력 또는 선택이 필요한 항목들을 차례대로 살펴보겠습니다.

- **Object Storage Bucket 선택**  
Streaming할 파일의 위치는 위에서 설정했던 인코딩된 파일의 위치인 [**vod-station-output**] 버킷을 선택합니다.

- **Object Storage 비공개 파일 접근**  
Object Storage 비공개 파일 접근 설정은 [**허용**]을 선택하는 것을 추천합니다. 
VOD Station은 Object Storage 의 &quot;**공개 안함**&quot; 권한을 가진 파일도 스트리밍할 수 있는 기능을 제공하므로 Object Storage 에 있는 원본 파일의 권한을 &quot;공개&quot; 대신 &quot;**공개 안함**&quot; 으로 설정함으로써 컨텐츠의 보안 수준을 높일 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-23.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **Protocol**  
Protocol은 [**HLS**], [**DASH**] 중에서 선택하거나 두 가지 모두 선택할 수 있습니다.

- **Segment 설정**  
Segment 설정도 서비스 상황에 맞에 선택하시면 됩니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-24.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **CDN 설정**  
`VOD Station은 CDN 연동이 필수인 상품`으로 [**신규 생성**]을 선택해 VOD Station에 최적화된 CDN을 자동 생성하거나, 기존 CDN 연동 또는 차후 별도의 CDN을 생성할 수도 있지만, 
가급적 [**신규 생성**] 옵션을 선택하는 것을 추천드립니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-25.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **콘텐츠 보호 설정**  
DRM 등의 콘텐츠 보호 설정이 필요할 경우 관련된 설정을 추가할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-26.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **채널 생성 완료**  
채널은 생성과 함께 운영상태로 전환되고, 그에 따라 과금이 발생하게 됩니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-27.png&quot; width=&quot;485&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **생성된 채널 확인**  
채널이 생성되면 아래와 같이 파일리스트와 채널 정보를 확인할 수 있습니다. 자세한 채널 정보는 상단에 있는 [**채널 정보**] 버튼을 클릭하면 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-28.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


## 채널 정보
위에서 확인한 채널 리스트에서 [**채널 정보**] 버튼을 클릭하면 아래와 같은 채널 정보를 확인할 수 있는데, 이 채널 정보 중에서 중요한 항목은 아래에 표시한 3가지 입니다.

- **Object Storage Bucket (암호화명)**
- **Protocol**
- **CDN 재생경로**

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-29.png&quot; width=&quot;685&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}


## 재생 경로 URL 확인
CDN에 위치한 VOD의 재생 경로 URL은 다음과 같은 요소로 구성되어 있습니다.

{% include note.html title=&quot;URL Template&quot; content=&quot;https://[CDN Domain]/[Protocol]/[EncryptedBucketName]/[Path]/[Video Filename]/[Manifest]&quot; %}

| Domain | Protocol | BucketName | Path | FileName | Manifest |
| :----: | :----: | :-----: | :-----: | :-----: | :-----: | :-----: |
| &lt;br /&gt;example.cdn.ntruss.com | &lt;br /&gt;~aiEihf7l39&amp;#42;&amp;#42;&amp;#42;&amp;#42;&amp;#42;&amp;#42;fs890ilkjlkfts_ | /hls&lt;br /&gt;&lt;br /&gt;/dash | &lt;br /&gt;/example_category | &lt;br /&gt;/example.mp4 | /index.m3u8&lt;br /&gt;&lt;br /&gt;/manifest.mpd |
| CDN 도메인 | 암호화된 Bucket 이름 | 스트리밍&lt;br /&gt;프로토콜 | 카테고리 이름으로&lt;br /&gt;구성된 폴더 경로 | 파일명 | 스트리밍을 위한&lt;br /&gt;Manifest 파일 |


### URL 예시
Channel에서 확인했던 파일 하나를 선택해서 재생 URL이 어떻게 구성되는지 예시를 들어보겠습니다.

{% include tip.html title=&quot;파일명 예시&quot; content=&quot;test-category/VOD-Station_AVC_HD_1Pass_30fps.mp4&quot; %}


{% include note.html title=&quot;재생 경로 URL&quot; content=&quot;https://yyvs&amp;#42;&amp;#42;&amp;#42;46&amp;#42;&amp;#42;&amp;#42;73.cdn.ntruss.com/hls/~ndO&amp;#42;&amp;#42;&amp;#42;eX~d1Y&amp;#42;&amp;#42;&amp;#42;OfE&amp;#42;&amp;#42;&amp;#42;VRYsO&amp;#42;&amp;#42;&amp;#42;Mgb&amp;#42;&amp;#42;&amp;#42;ri24_/test-category/VOD-Station_AVC_HD_1Pass_30fps.mp4/index.m3u8&quot; %}


### 재생 URL 빠르게 확인하기
재생 경로 URL이 복잡하게 구성되어 있다보니 직접 작성하기 쉽지 않은데, 이럴 때는 아래와 같은 방법으로 빠르게 확인할 수 있습니다.  
사용하시는 웹브라우저(여기서는 크롬을 사용)에 HLS, DASH 프로토콜 파일을 플레이할 수 있는 기능이 설치되어 있으면 보다 간편하게 확인 가능합니다.  

- **웹브라우저 확장 프로그램 설치**  
혹시 설치되어 있지 않을 경우 크롬 웹스토어 [**확장 프로그램**]에서 **HLS, DASH Player**를 아래와 같이 검색해서 설치합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-30.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **CDN 재생경로 URL 생성**  
확장 프로그램이 설치되었으면 [**VOD Station**] - [**Channel**]에서 파일 리스트 오른쪽에 있는 [**HLS URL 생성**] 또는 [**DASH URL 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-32.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}

- **CDN 재생경로 URL 확인**  
그러면 아래와 같이 웹브라우저에서 해당 파일이 재생되면서 주소창에서 재생 URL을 확인할 수 있습니다.

{% include image.html file=&quot;media/ncloud-media-vod-station-guide-31.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) VOD Station 생성 가이드&quot; caption=&quot;&quot; %}



## Video Player Enhancement
모든 작업이 완료된 영상을 재생하려면 [**Video Player Enhancement**] 서비스를 이용하면 되는데 자세한 사용 방법은 아래 가이드 문서에서 확인할 수 있습니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/media/ncloud-media-video-player-enhancement-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt; Video Player Enhancement 사용 가이드&lt;/a&gt;
&quot; %}

{% include image.html file=&quot;media/ncloud-media-video-player-enhancement-guide-09.png&quot; width=&quot;845&quot; alt=&quot;Ncloud (네이버 클라우드) Video Player Enhancement 사용 가이드&quot; caption=&quot;&quot; %}

## 참고 URL
1. Ncloud VOD Station 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/ko/vodstation-vodstationoverview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/ko/vodstation-vodstationoverview&lt;/a&gt;
</description>
            <pubDate>Fri, 17 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/media/ncloud-media-vod-station-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/media/ncloud-media-vod-station-guide.html</guid>
            
            <category>media</category>
            
            <category>object_storage</category>
            
            <category>cdn</category>
            
            
        </item>
        
        <item>
            <title>모니터링 서비스 Cloud Insight Rule Template 설정 가이드</title>
            <description>## 개요
Cloud Insight를 설정할 때 매번 서버마다 일일이 설정하는 방법도 있지만 [**CPU-메모리-디스크 사용률**] 같은 자주 모니터링하는 항목들을 [**Template**]에 등록해 두면 모니터링을 설정할 때 좀 더 쉽고 정확하게 설정할 수 있는데, 그 방법을 정리해보겠습니다.  



## Cloud Insight 기본 설정 방법
Cloud Insight의 기본적인 설정 방법은 아래 링크 문서에서 확인 가능합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/management/ncloud_management_cloud_insight_guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;모니터링 서비스 Cloud Insight 설정 가이드&lt;/a&gt;
&quot; %}

## Template 설정 항목
Template 설정할 때 서비스 상황에 따라 여러가지를 설정할 수 있는데, 여기서 예시로 설정해 볼 항목은 다음과 같습니다.
- 서버 평균 CPU 사용률
- 서버 메모리 사용률
- 서버 디스크 사용률

## Rule Template 설정
먼저 [**Cloud Insight**] - [**Configuration**] - [**Template**]에서 [**Rule Template**] 탭을 선택하고, [**Rule Template 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-03.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### CPU 사용률
[**서버 평균 CPU 사용률**]은  [**SERVER**] 탭에서 [**`SEVER/avg_cpu_used_rto`**] 항목을 선택합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-04.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 메모리 사용률
[**서버 평균 메모리 사용률**]은 [**Memory**] 탭에서 [**`MEMORY/mem_usert`**] 항목을 선택합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-05.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 디스크별 사용 중인 용량
[**디스크별 사용 중인 용량**]은  [**FILE STSTEM**] 탭에서 [**`FILE STSTEM/fs_usert`**] 항목을 선택합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-15.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

{% include callout-v2.html type=&quot;warning&quot; level=&quot;3&quot; content=&quot;
- [**사용 중인 디스크가 2개 이상인 경우**] &lt;br /&gt;
서버를 생성할 때 자동으로 추가되는 OS용 기본 디스크 말고 별도로 디스크를 추가했을 경우에는 기본 / 영역외에 추가 디스크가 마운트된 영역에 대해서도 항목을 추가해야 합니다.  
&lt;br /&gt;
추가 디스크를 **/data 디렉토리로 마운트**했다고 가정했을 경우 아래 스샷처럼 [**`FILE STSTEM/fs_usert`**] 항목 오른쪽에 있는 [**+**] 버튼을 클릭해서 동일한 
항목을 하나 더 추가하고, 디멘션에서 [**mnt_nm: /data**]를 선택합니다. 다른 곳으로 마운트했을 경우에는 그에 맞는 값을 선택하면 됩니다.
&quot; %}


{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-16.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}



- 3가지 항목을 모두 선택하고, [다음] 버튼을 클릭하면 아래와 같이 각 항목별로 조건을 설정할 수 있습니다.  
여기서는 각 수치가 70% 이상일 경우로 설정했고, 몇 분간의 평균값으로 할 것인가는 사용하는 서비스 상황에 따라 조절하시면 됩니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-06.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## Event Rule 설정
다음으로 [**Cloud Insight**] - [**Configuration**] - [**Event Rule**]에서 [**Event Rule 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-07.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 감시 상품 선택
Ncloud Cloud Insight에서 모니터링 할 수 있는 상품은 아래와 같은데 그 중에서 여기서는 VPC Server를 선택하겠습니다.
- Classic Load Balancer Monitor
- Classic Server
- VPC Load Balancer Monitor
- VPC Server
- Object Storage

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-08.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 감시 대상 설정
감시 대상은 미리 설정한 그룹이나 Auto Scaling Group에서 선택할 수도 있는데, 여기서는 [**전체 보기**]를 선택해서 미리 만들어둔 테스트용 서버를 선택하겠습니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-09.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 감시 항목 설정
`여기가 이 가이드 문서의 가장 중요한 단계`인데, 위에서 설정했던 [**Template**]인 [**template-test**]를 감시 항목으로 선택해보겠습니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-10.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 액션 설정
액션 설정에서 [**통보 대상자**], [**알림 유형**], [**리마인드 알림 주기**], [**종료 알림 여부**]를 설정합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-12.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 최종 확인
지금까지 설정한 내역을 최종 확인한 후에 이상이 없으면 [**생성**] 버튼을 클릭해서 Event Rule 생성을 완료합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-13.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-bottom&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-14.png&quot; width=&quot;845&quot; sub-class=&quot;docimage-no-top&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}


## 기타

### Target Group 생성
위에서는 [**Rule Template**]만 사용했는데, 여러 대상을 미리 하나의 그룹으로 묶어서 관리할 수도 있습니다.  
[**Cloud Insight**] - [**Configuration**] - [**Template**]에서 [**Target Group**] 탭을 선택하고, [**Target Group 생성**] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

- 그룹 생성화면에서 원하는 [**Product Type**]을 선택하고, 선택 가능한 감시 대상 중에서 Group으로 묶을 대상을 선택하고 아래 쪽으로 이동 시킨 후에 [**생성**] 버튼을 클릭하면 됩니다. 이후에 [**Event Rule**] 생성할 때 [**감시 대상 설정**] 단계에서 여기서 설정한 Group을 선택하면 됩니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-rule-template-guide-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}


## 참고 URL
1.  Cloud Insight 소개
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&lt;/a&gt;

2.  Cloud Insight 사용 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&lt;/a&gt;

3.  Cloud Insight 기본 설정 가이드
	- &lt;a href=&quot;/management/ncloud_management_cloud_insight_guide.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/management/ncloud_management_cloud_insight_guide.html&lt;/a&gt;</description>
            <pubDate>Tue, 07 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/management/ncloud-management-cloud-insight-rule-template-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/management/ncloud-management-cloud-insight-rule-template-guide.html</guid>
            
            <category>monitoring</category>
            
            <category>log</category>
            
            
        </item>
        
        <item>
            <title>Object Storage에서 CORS를 SDK for S3 API로 설정하기</title>
            <description>## 개요 
Ncloud(네이버 클라우드)의 Object Storage Bucket CORS를 AWS S3에서 제공하는 [**SDK for S3 API**]로 설정하는 방법을 소개합니다. 여기서 소개할 SDK는 [**Python용 SDK for S3 API**]와 [**PHP용 SDK for S3 API**] 두가지입니다.

## CORS 설정 기본 방법
Object Storage Bucket에 CORS를 설정하는 기본 방법인 CLI와 외부 Client Tool에 대한 것은 아래 문서에서 확인 가능합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/storage/ncloud-storage-object-storage-bucket-cors-setting-guide.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;Object Storage Bucket에 CORS 설정하기 - CLI &amp; Client Tool&lt;/a&gt;
&quot; %}

## Python용 SDK for S3 API

### SDK 설치
Python용 SDK를 설치하는 방법은 기본 설치방법과 특정 버전을 설치하는 방법이 있습니다.

``` bash
# 기본 설치
pip install boto3

# 특정 버전 설치
pip install boto3==1.6.19
```

### 예제 코드
아래 예제 코드는 버킷에 CORS를 설정하는 방법과 설정된 CORS를 조회하는 방법입니다. 

``` python
import boto3

service_name = &apos;s3&apos;
endpoint_url = &apos;https://kr.object.ncloudstorage.com&apos;
region_name = &apos;kr-standard&apos;
access_key = &apos;{ACCESS_KEY_ID}&apos;
secret_key = &apos;{SECRET_KEY}&apos;

if __name__ == &quot;__main__&quot;:
    s3 = boto3.client(service_name, endpoint_url=endpoint_url,
                         aws_access_key_id=access_key, aws_secret_access_key=secret_key)
                      
    bucket_name = &apos;{버킷명}&apos;

# Define the configuration rules
    cors_configuration = {
        &apos;CORSRules&apos;: [{
            &apos;AllowedHeaders&apos;: [&apos;*&apos;],
            &apos;AllowedMethods&apos;: [&apos;GET&apos;, &apos;PUT&apos;],
            &apos;AllowedOrigins&apos;: [&apos;http://cors-test.com&apos;],
            &apos;MaxAgeSeconds&apos;: 3000
        }]
    }

    # Set CORS configuration
    response = s3.put_bucket_cors(Bucket=bucket_name, CORSConfiguration=cors_configuration)
    print(response[&apos;ResponseMetadata&apos;])

    # Get CORS configuration
    response = s3.get_bucket_cors(Bucket=bucket_name)
    print(response[&apos;CORSRules&apos;])
```

#### 예제 코드 실행 결과

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket CORS를 AWS SDK for S3 API로 설정하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide-02.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket CORS를 AWS SDK for S3 API로 설정하는 방법&quot; caption=&quot;&quot; %}


## PHP용 SDK for S3 API
PHP용 SDK는 아래 2가지 방법 중에서 한가지를 선택해서 사용할 수 있습니다.

### 1. SDK 설치
우선 composer를 이용해서 설치하는 방법입니다.

``` bash
composer require aws/aws-sdk-php
```

- 설치 후에 아래 코드를 추가해서 SDK를 불러옵니다.

``` php
&lt;?php
   require &apos;{경로}/vendor/autoload.php&apos;;
?&gt;
```

### 2. SDK 다운로드
2번째 방법은 SDK Zip파일을 다운로드 받아 사용하는 방법입니다.

{% include callout-v2.html type=&quot;warning&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;https://docs.aws.amazon.com/aws-sdk-php/v3/download/aws.zip&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;PHP용 SDK Zip 파일 다운로드&lt;/a&gt;
&quot; %}


- 압축을 풀고 필요한 경로에 복사한 후 아래 코드를 추가해서 SDK를 불러옵니다.

``` php
&lt;?php 
    require &apos;{경로}/aws-autoloader.php&apos;;
?&gt;
```

### 예제 코드
아래 예제 코드는 버킷에 CORS를 설정하는 방법과 설정된 CORS를 조회하는 방법입니다. 

``` php
&lt;?php
    use Aws\S3\S3Client;
    use Aws\Exception\AwsException;
    
    $s3Client = new S3Client ([
        &apos;endpoint&apos; =&gt; &apos;https://kr.object.ncloudstorage.com&apos;,
        &apos;region&apos;   =&gt; &apos;kr-standard&apos;,
        &apos;credentials&apos; =&gt; array(
            &apos;key&apos;      =&gt; &apos;{ACCESS_KEY_ID}&apos;,
            &apos;secret&apos;   =&gt; &apos;{SECRET_KEY}&apos;
        ),
        &apos;version&apos; =&gt; &apos;latest&apos;
    ]);


    $bucketName = &quot;{버킷명}&quot;;

    # Set CORS configuration
    try 
    {
        $result = $s3Client-&gt;putBucketCors([
            &apos;Bucket&apos; =&gt; $bucketName, // REQUIRED
            &apos;CORSConfiguration&apos; =&gt; [ // REQUIRED
                &apos;CORSRules&apos; =&gt; [ // REQUIRED
                    [
                        &apos;AllowedHeaders&apos; =&gt; [&apos;*&apos;],
                        &apos;AllowedMethods&apos; =&gt; [&apos;GET&apos;, &apos;PUT&apos;], // REQUIRED
                        &apos;AllowedOrigins&apos; =&gt; [&apos;http://cors-test.com&apos;], // REQUIRED
                        &apos;ExposeHeaders&apos; =&gt; [],
                        &apos;MaxAgeSeconds&apos; =&gt; 3000
                    ],
                ],
            ]
        ]);

        var_dump($result[&quot;@metadata&quot;]);
    } 
    catch (AwsException $e) 
    {   // output error message if fails
        error_log($e-&gt;getMessage());
    }

    echo(&quot;&lt;hr /&gt;&quot;);

    # Get CORS configuration
    try 
    {
        $result = $s3Client-&gt;getBucketCors([
            &apos;Bucket&apos; =&gt; $bucketName, // REQUIRED
        ]);

        var_dump($result[&quot;CORSRules&quot;]);
    } 
    catch (AwsException $e) 
    {   // output error message if fails
        error_log($e-&gt;getMessage());
    }

?&gt;
```

#### 예제 코드 실행 결과

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide-03.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket CORS를 AWS SDK for S3 API로 설정하는 방법&quot; caption=&quot;&quot; %}

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide-04.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket CORS를 AWS SDK for S3 API로 설정하는 방법&quot; caption=&quot;&quot; %}

## 참고 URL
1. Ncloud Python용 AWS SDK (Boto3) 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/storage-storage-8-2&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/storage-storage-8-2&lt;/a&gt;

2. PHP용 AWS SDK 가이드
	- &lt;a href=&quot;https://aws.amazon.com/ko/sdk-for-php/&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://aws.amazon.com/ko/sdk-for-php/&lt;/a&gt;	

3. Object Storage Bucket에 CORS 설정하는 기본 방법
	- &lt;a href=&quot;/storage/ncloud-storage-object-storage-bucket-cors-setting-guide.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/storage/ncloud-storage-object-storage-bucket-cors-setting-guide.html&lt;/a&gt;		</description>
            <pubDate>Mon, 06 Mar 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/storage/ncloud-storage-object-storage-bucket-cors-setting-api-sdk-guide.html</guid>
            
            <category>storage</category>
            
            
        </item>
        
        <item>
            <title>Object Storage Bucket에 CORS 설정하기</title>
            <description>## 개요 
Object Storage를 이용해 서비스 개발을 하다 보면 CORS 와 관련된 오류와 종종 마주치게 되는데, 테스트 버킷과 사이트를 생성해서 해결 방법을 알아보겠습니다.
그리고, Ncloud(네이버 클라우드) Object Storage의 CORS 설정은 콘솔이 아닌, CLI와 외부 Client Tool 등을 사용해야 하는데 각각의 방법을 차례로 소개합니다.

{% include tip.html title=&quot;CORS&quot; content=&quot;CORS(Cross-Origin Resource Sharing)는 웹 애플리케션이 서비스되는 도메인에서 다른 도메인에 있는 리소스를 접근해야 할 때 리소스에 대한 접근 허용, 제한 등에 대한 방법을 정의합니다.&quot; %}

## 테스트 방법
1. Object Storage에 **cors-test** 라는 이름의 버킷 생성
2. **http://cors-test.com** 라는 테스트 사이트 준비
3. 버킷에 **http://cors-test.com** 도메인에서 접속 가능하도록 CORS 설정
4. Javascript를 이용해 **cors-test** 버킷에 있는 파일이 호출되는지 확인
5. 버킷 CORS 설정을 변경하여 **http://cors-test.com** 도메인에서는 접속하지 못하게 설정
6. **cors-test** 버킷에 있는 파일 호출이 차단되는지 확인


## CORS 구성 요소
CORS는 아래와 같은 요소들로 구성되어 있습니다.

- AllowedHeader : 리소스를 요청할 때 사용할 수 있는 Header
- AllowedMethod : 리소스를 요청할 때 허용된 Method
- AllowedOrigin : 접근 허용된 Origin 도메인
- ExposeHeader : 응답에서 접근이 허용된 Header
- MaxAgeSeconds : 지정한 리소스에 해당하는 프리플라이트(pre-flight) OPTIONS 요청에 대한 최대 응답 시간 

## CLI 사용
Ncloud는 Object Storage CLI 접속 시 AWS CLI를 이용해 접속하게 되는데, 자세한 사용 방법은 아래 링크 문서에서 확인 가능합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/storage/ncloud_storage_object_storage_aws_cli_connect.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;AWS CLI를 이용한 Object Storage 접속 방법&lt;/a&gt;
&quot; %}

### json 파일 생성
CLI를 사용하기 위해 먼저 간단하게 GET, PUT Method로 접근가능 하게 하는 CORS 설정을 입력한 별도의 json 파일을 생성 합니다. 여기서는 cors-test.json 이라는 이름으로 저장하겠습니다.

``` json
{
  &quot;CORSRules&quot;: 
  [
    {
      &quot;AllowedHeaders&quot;: [
        &quot;*&quot;
      ],
      &quot;AllowedMethods&quot;: [
        &quot;GET&quot;,
        &quot;PUT&quot;
      ],
      &quot;AllowedOrigins&quot;: [
        &quot;http://cors-test.com&quot;
      ],           
      &quot;MaxAgeSeconds&quot;: 3000
    }
  ]
}
```

json 형식에 대해서는 아래의 링크를 참조 합니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;https://docs.aws.amazon.com/ko_kr/AmazonS3/latest/userguide/ManageCorsUsing.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;AWS - CORS 구성&lt;/a&gt;
&quot; %}

json파일을 생성 하였으면 아래와 같은 형식으로 **CORS 규칙 설정을 버킷에 적용하는 명령어**를 입력 합니다. 여기서는 테스트를 위해 미리 [**cors-test**] 라는 이름의 버킷을 생성해두었습니다.

```bash
# CORS 설정 입력 명령어 형식
aws --endpoint-url=https://kr.object.ncloudstorage.com s3api put-bucket-cors --bucket &lt;버킷이름&gt; --cors-configuration file://&lt;json파일 경로&gt;

# 예제
aws --endpoint-url=https://kr.object.ncloudstorage.com s3api put-bucket-cors --bucket cors-test --cors-configuration file://cors-test.json
```

그런 다음 제대로 적용되었는지 확인 하기 위해 **버킷의 CORS 설정을 확인하는 명령어**를 실행합니다.

``` bash
# CORS 설정 조회 명령어 형식
aws --endpoint-url=https://kr.object.ncloudstorage.com s3api get-bucket-cors --bucket &lt;버킷이름&gt;

# 예제
aws --endpoint-url=https://kr.object.ncloudstorage.com s3api get-bucket-cors --bucket cors-test
```
{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-03.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}


## S3 Browser 사용 
외부 Client Tool중에서 CORS 설정이 가능한 것은 S3 Browser 이며, 자세한 사용 방법은 아래의 링크 문서를 참고하시기 바랍니다.

{% include callout-v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;
&amp;#8259; &lt;a href=&apos;/storage/ncloud_storage_object_storage_s3_client_s3browser.html&apos; target=&apos;_blank&apos; style=&apos;word-break:break-all;&apos;&gt;Object Storage 접속용 Windows Client Tool - S3 Browser&lt;/a&gt;
&quot; %}

S3 브라우저에 접속 하신다음 CORS 설정 대상의 버킷에서 오른쪽 마우스 버튼을 클릭 합니다.

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-01.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}

CORS Configuration 클릭하여 CORS 설정을 오픈하면 처음에는 아무 값도 설정되어 있지 않습니다.

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-04.png&quot; width=&quot;645&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}

### XML 형식의 설정 준비
마찬가지로 GET, PUT Method로 접근 가능한 설정을 이번에는 XML 형식으로 입력하고 [**Apply**] 버튼을 클릭해서 적용합니다.

``` xml
&lt;CORSConfiguration&gt;
  &lt;CORSRule&gt;
    &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;
    &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;
    &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;    
    &lt;AllowedOrigin&gt;http://cors-test.com&lt;/AllowedOrigin&gt;        
    &lt;MaxAgeSeconds&gt;3000&lt;/MaxAgeSeconds&gt;
  &lt;/CORSRule&gt;
&lt;/CORSConfiguration&gt;
```

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-05.png&quot; width=&quot;645&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}

## 접속 테스트

### 정상 접속 확인
설정을 마친 후 Javascript를 사용해서 cors-test 버킷에 있는 파일을 호출해보면 아래와 같이 문제 없이 접속되는 것을 확인할 수 있습니다.

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-06.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}

### CORS 변경
접속 차단을 테스트 하기 위해 CORS 설정에서 AllowedOrigin 값을 임의의 **http://example.com** 으로 변경하겠습니다.

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-02.png&quot; width=&quot;645&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}

### 접속 차단 확인
설정을 변경한 후에 접속을 해보면 이전과는 다르게 아래와 같은 메시지가 나타나면서 접속이 차단된 것을 확인할 수 있습니다.

{% include warning.html title=&quot;error&quot; content=&quot;
Access to XMLHttpRequest at &apos;https://kr.object.ncloudstorage.com/cors-test/cors-test.txt&apos; from origin &lt;br /&gt;&apos;**http://cors-test.com**&apos; **has been blocked by CORS policy**: No &apos;Access-Control-Allow-Origin&apos; header is present on the requested resource.
&quot; %}

{% include image.html file=&quot;storage/ncloud-storage-object-storage-bucket-cors-setting-guide-07.png&quot; width=&quot;845&quot; alt=&quot;Ncloud(네이버 클라우드)의 Object Storage Bucket에 CORS를 설정하는 방법&quot; caption=&quot;&quot; %}


## CORS 예시

### 예시 1
아래 예시는 http://*.cors-test.com 즉, cors-test.com 도메인을 가진 모든 하위 도메인에 대해 허용할 요청 Method와 허용할 응답 헤더 값을 정의했습니다.

``` json
{
  &quot;CORSRules&quot;: 
  [
    {    
      &quot;AllowedHeaders&quot;: [
        &quot;*&quot;
      ],
      &quot;AllowedMethods&quot;: [
        &quot;PUT&quot;,
        &quot;POST&quot;,
        &quot;DELETE&quot;
      ],
      &quot;AllowedOrigins&quot;: [
        &quot;http://*.cors-test.com&quot;
      ],
      &quot;ExposeHeaders&quot;: [
        &quot;x-amz-server-side-encryption&quot;,
        &quot;x-amz-request-id&quot;,
        &quot;x-amz-id-2&quot;
      ],
      &quot;MaxAgeSeconds&quot;: 3000
    }
  ]
}
```

``` xml
&lt;CORSConfiguration&gt;
  &lt;CORSRule&gt;
    &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;   
    &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;
    &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;
    &lt;AllowedMethod&gt;DELETE&lt;/AllowedMethod&gt;
    &lt;AllowedOrigin&gt;http://*.cors-test.com&lt;/AllowedOrigin&gt;   
    &lt;ExposeHeader&gt;x-amz-server-side-encryption&lt;/ExposeHeader&gt;
    &lt;ExposeHeader&gt;x-amz-request-id&lt;/ExposeHeader&gt;
    &lt;ExposeHeader&gt;x-amz-id-2&lt;/ExposeHeader&gt;
    &lt;MaxAgeSeconds&gt;3000&lt;/MaxAgeSeconds&gt;
  &lt;/CORSRule&gt;
&lt;/CORSConfiguration&gt;
```

### 예제 2
아래 예제 2는 2가지 도메인에 대해 각각 다른 규칙을 정의했습니다.  
먼저 http로 접속하는 www.cors-test.com 도메인에 대해서는 GET 방식의 요청만 허용하고,  
다음 https로 접속하는 api.cors-test.com 도메인에 대해서는 PUT, POST, DELETE 요청을 허용하는 규칙입니다.

``` json
{
  &quot;CORSRules&quot;: 
  [
    {
      &quot;AllowedHeaders&quot;: [
        &quot;*&quot;
      ],
      &quot;AllowedMethods&quot;: [
        &quot;PUT&quot;,
        &quot;POST&quot;,
        &quot;DELETE&quot;
      ],
      &quot;AllowedOrigins&quot;: [
        &quot;https://api.cors-test.com&quot;
      ]
    },
    {
      &quot;AllowedMethods&quot;: [
        &quot;GET&quot;
      ],
      &quot;AllowedOrigins&quot;: [
        &quot;http://www.cors-test.com&quot;
      ]
    }
  ]
}
```

``` xml
&lt;CORSConfiguration&gt;
  &lt;CORSRule&gt;
    &lt;AllowedHeader&gt;*&lt;/AllowedHeader&gt;
    &lt;AllowedMethod&gt;PUT&lt;/AllowedMethod&gt;
    &lt;AllowedMethod&gt;POST&lt;/AllowedMethod&gt;
    &lt;AllowedMethod&gt;DELETE&lt;/AllowedMethod&gt;
    &lt;AllowedOrigin&gt;http://api.cors-test.com&lt;/AllowedOrigin&gt;
  &lt;/CORSRule&gt;
  &lt;CORSRule&gt;
    &lt;AllowedMethod&gt;GET&lt;/AllowedMethod&gt;
    &lt;AllowedOrigin&gt;http://www.cors-test.com&lt;/AllowedOrigin&gt;
  &lt;/CORSRule&gt;
&lt;/CORSConfiguration&gt;
```


## 참고 URL
1. Object Storage CLI 가이드
	- &lt;a href=&quot;https://cli.ncloud-docs.com/docs/guide-objectstorage&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://cli.ncloud-docs.com/docs/guide-objectstorage&lt;/a&gt;

2. AWS CLI를 이용한 Object Storage 접속 방법
	- &lt;a href=&quot;/storage/ncloud_storage_object_storage_aws_cli_connect.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/storage/ncloud_storage_object_storage_aws_cli_connect.html&lt;/a&gt;	

3. Object Storage 접속용 Windows Client Tool - S3 Browser
	- &lt;a href=&quot;/storage/ncloud_storage_object_storage_s3_client_s3browser.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/storage/ncloud_storage_object_storage_s3_client_s3browser.html&lt;/a&gt;		</description>
            <pubDate>Thu, 23 Feb 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/storage/ncloud-storage-object-storage-bucket-cors-setting-guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/storage/ncloud-storage-object-storage-bucket-cors-setting-guide.html</guid>
            
            <category>storage</category>
            
            
        </item>
        
        <item>
            <title>모니터링 서비스 Cloud Insight 설정 가이드</title>
            <description>## 개요
네이버 클라우드와 사용자 애플리케이션의 성능/운영 지표를 통합 관리하고, 장애나 이벤트가 발생했을 때 SMS 및 Email로 알람 통보를 해주는 서비스인 Cloud Insight 서비스를 설정하는 방법에 대해 정리해보겠습니다.


### Monitoring 서비스 vs Cloud Insight 서비스
Classic 환경에 있는 Monitoring 서비스와 Cloud Insight 서비스의 차이점을 정리하면 다음과 같습니다.

{% include callout_v2.html type=&quot;success&quot; level=&quot;1&quot; content=&quot;- Monitoring 서비스는 Classic 환경에서만 사용할 수 있다.
&lt;br /&gt;- Cloud Insight 서비스는 Classic, VPC 양쪽에서 모두 사용할 수 있고, 두가지 환경을 통합해서 보여준다.
&lt;br /&gt;- Monitoring 서비스는 Server 제품 (AutoScaling 포함)만 모니터링 한다.
&lt;br /&gt;- Cloud Insight 서비스는 Server 뿐만 아니라 Object Storage, Load Balancer 등 10여개의 서비스를 모니터링 한다.&quot; %}



## 적용 서비스 리스트
위 비교에서도 설명했듯이 Cloud Insight는 Server 뿐만 아니라 네이버 클라우드의 다양한 서비스의 모니터링 정보를 확인할 수 있는데 해당 리스트는 다음과 같습니다.

### Classic 
- Server
- Load Balancer

### VPC
- Server(VPC)
- Load Balancer(VPC)
- Cloud DB for MySQL(VPC)
- Cloud DB for MSSQL(VPC)
- Cloud DB for Redis(VPC)
- Cloud DB for MongoDB(VPC)
- Cloud Hadoop(VPC)
- Auto Scaling Group(VPC)
- Kubernetes Service(VPC)
- Search Engine Service(VPC)
- Cloud Data Streaming Service(VPC)

### 통합
- Cloud Search
- Object Storage


## Cloud Insight 서비스
[**Cloud Insight**] 서비스는 [**콘솔**] - [**Services**] - [**Management &amp; Governance**] - [**Cloud Insight(Monitoring)**]에 위치하고 있습니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-guide-28.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

좀 더 쉽게 찾는 방법은 [**콘솔**] - [**Services**]에서 [**검색**] 기능을 이용하면 됩니다.

{% include image.html file=&quot;management/ncloud-management-cloud-insight-guide-29.png&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}


## 이용 신청
Cloud Insight 서비스는 이용 신청을 해야 사용할 수 있습니다. Classic, VPC 어떤 환경에서든 [Cloud Insight(Monitoring)] - [Subscription]에서 [상품 이용 신청] 버튼을 클릭해서 이용 신청을 합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_01.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## 대시보드
이용 신청을 한 후에 [Dashboard] 메뉴에 가면 아래와 같이 현재 사용 중인 서비스 중에서 모니터링 가능한 서비스 리스트를 확인할 수 있습니다.  
또한 기본으로 제공되는 대시보드에서 확인할 수 있는 모니터링 항목을 각 서비스별로 고정되어 있습니다. 
추가적인 항목을 확인하려면 별도로 대시보드를 생성해야 하는데 이에 대해서는 아래쪽에서 확인해보겠습니다.

{% include callout_v2.html type=&quot;info&quot; level=&quot;1&quot; content=&quot;일부 서비스의 경우 리스트에 나타날 때까지 시간이 걸릴 수도 있습니다. 여유있게 1시간 정도 후에 확인해보시면 됩니다.&quot; %}

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_02.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### Load Balancer 모니터링
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_08.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### Object Storage 모니터링
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_09.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### Server 모니터링
위에서 설명했듯이 Server 제품도 GPU 관련 항목을 제외하면 5가지 정도의 기본 모니터링 항목을 확인할 수 있습니다. 

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_03.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## 커스텀 대시보드
좀 더 상세한 모니터링 데이터를 확인하려면 커스텀 대시보드가 필요하고 그전에 [상세 모니터링]을 설정해야 합니다. 서버 설정에서 [상세 모니터링 설정 변경] 메뉴를 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_04.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

[상세 모니터링 신청] 팝업에서 [예] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_05.jpg&quot; width=&quot;500&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

### 대시보드 생성
[Dashboard] 화면에서 [대시보드 생성] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_06.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

생성 팝업에서 대시보드 이름과 설명을 입력합니다.
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_07.jpg&quot; width=&quot;500&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}


생성된 대시보드에서 [위젯 추가] 버튼을 클릭해서 위젯을 추가합니다.
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_10.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

위젯 이름을 입력하고, 종류는 [Time Series], [Pie Chart], [Table], [Index], [Markdown] 중에서 하나를 선택합니다.  여기서는 [CPU Usage]와 [Time Series]를 선택했습니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_11.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

다음으로 데이터 설정에서 CPU 사용률에 해당하는 [SERVER/avg_cpu_used_rto] 등 필요한 항목을 선택하고 [선택 항목 추가] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_12.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

항목을 추가하면 아래쪽 화면에 다음과 같이 리스트를 확인할 수 있습니다. 설정이 완료되었으면 [다음] 버튼을 클릭해 마지막 확인을 하고 생성을 완료합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_13.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

위에서 추가한 [CPU Usage] 위젯과 함께 추가로 [Server - Load Average], [File System], [Memory Usage], [Net Work (Max In/Out bps)] 데이터를 확인할 수 있는 위젯을 추가하면 다음과 같은 대시보드를 확인할 수 있습니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_14.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## 통보 대상자 등록
이제 이벤트를 등록하고 알람을 통보 받을 대상자를 등록해보겠습니다.  
먼저 통보 대상자 그룹을 생성합니다.  [Cloud Insight(Monitoring)] - [Notification Recipient] 메뉴에서 [전체 대상자] 옆에 있는 [ + ] 버튼을 클릭하고 아래 입력칸에 그룹명을 입력합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_15.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

네이버 클라우드 계정 생성을 할 때 기본으로 1명의 대상자가 등록됩니다. 해당 대상자를 위에서 생성한 그룹에 할당하기 위해 선택하고 [할당] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_20.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

그룹 할당 팝업에서 [할당] 버튼을 클릭합니다.
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_21.jpg&quot; width=&quot;500&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

대상자 리스트에서 해당 대상자에 그룹이 할당된 것을 확인할 수 있습니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_22.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## 이벤트 규칙 등록
이제 이벤트를 등록해보겠습니다. [Cloud Insight(Monitoring)] - [Configuration] - [Event Rue]에서 [Event Rule 생성] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_16.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

이벤트 규칙을 생성해서 감시가 필요한 상품을 선택합니다. 여기서는 [Sever(VPC)]를 선택하겠습니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_17.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

[감시 대상 설정]에서 [전체 보기]를 선택하고, 감시 대상에 체크한 후 [다음] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_18.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

감시 항목 및 조건 설정에서 [전체 보기]를 선택하고, Server, Memory 등의 항목 중에서 원하는 항목을 선택합니다.  
여기서는 가장 많이 사용하는 [**SERVER의 CPU 사용률**]에 해당하는 [**SERVER/avg_cpu_used_rto**]를 선택하고, 90% 이상인 상태가 5분 이상 지속되면 경고 알림을 보내도록 설정했습니다. 

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_19.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

다음으로 감시 대상에서 설정한 이벤트가 발생했을 때 어떤 액션을 취할 것인가를 설정해보겠습니다.  
설정 가능한 액션은 [**알림 메시지 발송**], [**Integration**], [**Cloud Functions**], [**Auto Scaling 정책**] 중에서 선택할 수 있는데, 여기서는 [알림 메시지 발송]을 선택하겠습니다.  
통보 대상자 그룹을 선택하고, [**Email**]과 [**SMS**]중에서 원하는 것을 선택하고, [**리마인드 알림 주기**], [**종료 알림 여부**]를 설정한 후 [다음] 버튼을 클릭합니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_23.jpg&quot; width=&quot;845&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

마지막으로 이벤트 규칙 이름을 입력하고, 앞에서 설정한 내용들을 확인한 후에 [생성] 버튼을 클릭합니다.
{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_24.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

## 유지보수 계획 설정
앞에서 설정한 이벤트 규칙이 업데이트나 점검 등의 유지보수가 진행되는 동안에도 작동되면 유지보수 시간 동안 쉼없이 통보 알람이 울리게 됩니다.  
이런 불편함이 없도록 Cloud Insight에서는 유지보수 계획 일정을 등록해두면 등록된 기간 동안에는 이벤트 규칙에 따른 통보알람이 울리지 않습니다.

유지보수 일정은 아래와 같이 달력 행태나 리스트 형태로 확인 가능하며 [유지보수 계획 설정하기] 버튼으로 일정을 등록할 수 있습니다.

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_25.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

제목을 입력하고, 작업 기간, 작업 대상, 디멘션을 선택하면 아래와 같이 선택한 대상과 디멘션이 리스트로 나타납니다.  보통 위에서 설정했던 이벤트 규칙에 해당하는 항목들을 선택하면 됩니다. 

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_26.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}

유지보수 계획을 설정하면 아래와 같이 일정에서 확인할 수 있으며 해당 기간 동안에는 이벤트 통보가 진행되지 않습니다. 

{% include image.html file=&quot;management/ncp_management_cloud_insight_guide_27.jpg&quot; width=&quot;770&quot; alt=&quot;Ncloud 모니터링 서비스 Cloud Insight 설정 가이드&quot; caption=&quot;&quot; %}


## 참고 URL
1.  Cloud Insight 소개
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightoverview&lt;/a&gt;

2.  Cloud Insight 사용 가이드
	- &lt;a href=&quot;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://guide.ncloud-docs.com/docs/cloudinsight-cloudinsightconsole&lt;/a&gt;

3.  Cloud Insight Rule Template 설정 가이드
	- &lt;a href=&quot;/management/ncloud-management-cloud-insight-rule-template-guide.html&quot; target=&quot;_blank&quot; style=&quot;word-break:break-all;&quot;&gt;https://docs.3rdeyesys.com/management/ncloud-management-cloud-insight-rule-template-guide.html&lt;/a&gt;</description>
            <pubDate>Wed, 08 Feb 2023 00:00:00 +0900</pubDate>
            <link>https://docs.3rdeyesys.com/management/ncloud_management_cloud_insight_guide.html</link>
            <guid isPermaLink="true">https://docs.3rdeyesys.com/management/ncloud_management_cloud_insight_guide.html</guid>
            
            <category>monitoring</category>
            
            <category>log</category>
            
            
        </item>
        
    </channel>
</rss>
